<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Academic Calculator Dashboard</title>
    <link rel="icon" type="image/png" href="static/icon.png">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        :root {
          /* Modern Color Palette */
          --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
          --success-gradient: linear-gradient(135deg, #28a745 0%, #20c997 100%);
          --danger-gradient: linear-gradient(135deg, #dc3545 0%, #c82333 100%);
          --warning-gradient: linear-gradient(135deg, #ffc107 0%, #e0a800 100%);

          /* Glass Morphism */
          --glass-bg: rgba(255, 255, 255, 0.95);
          --glass-border: rgba(255, 255, 255, 0.2);
          --glass-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
          --glass-shadow-hover: 0 30px 60px rgba(0, 0, 0, 0.15);

          /* Spacing */
          --border-radius-sm: 12px;
          --border-radius-md: 16px;
          --border-radius-lg: 20px;
          --border-radius-xl: 24px;

          /* Transitions */
          --transition-smooth: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
          --transition-bounce: all 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        * {
          margin: 0;
          padding: 0;
          box-sizing: border-box;
          font-family: "Inter", sans-serif;
        }

        body {
          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
          background-attachment: fixed;
          min-height: 100vh;
          color: #333;
          position: relative;
          overflow-x: hidden;
        }

        /* Modern animated background */
        body::before {
          content: '';
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background:
            radial-gradient(circle at 20% 80%, rgba(120, 119, 198, 0.3) 0%, transparent 50%),
            radial-gradient(circle at 80% 20%, rgba(255, 255, 255, 0.1) 0%, transparent 50%),
            radial-gradient(circle at 40% 40%, rgba(120, 119, 198, 0.2) 0%, transparent 50%);
          animation: backgroundFloat 20s ease-in-out infinite;
          pointer-events: none;
          z-index: -1;
        }

        @keyframes backgroundFloat {
          0%, 100% { transform: translateY(0px) rotate(0deg); }
          33% { transform: translateY(-20px) rotate(1deg); }
          66% { transform: translateY(10px) rotate(-1deg); }
        }

        .dashboard-container {
          max-width: 1400px;
          margin: 0 auto;
          padding: 24px;
          position: relative;
        }

        /* Modern Scrollbar */
        ::-webkit-scrollbar {
          width: 8px;
          height: 8px;
        }

        ::-webkit-scrollbar-track {
          background: rgba(255, 255, 255, 0.1);
          border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb {
          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
          border-radius: 10px;
          transition: var(--transition-smooth);
        }

        ::-webkit-scrollbar-thumb:hover {
          background: linear-gradient(135deg, #5a6fd8 0%, #6a4190 100%);
        }

        /* Smooth scroll behavior */
        html {
          scroll-behavior: smooth;
        }

        /* Header Styles */
        .dashboard-header {
          background: rgba(255, 255, 255, 0.95);
          backdrop-filter: blur(20px);
          border: 1px solid rgba(255, 255, 255, 0.2);
          border-radius: 24px;
          padding: 32px;
          margin-bottom: 32px;
          box-shadow:
            0 20px 40px rgba(0, 0, 0, 0.1),
            0 1px 0 rgba(255, 255, 255, 0.5) inset;
          position: relative;
          overflow: hidden;
        }

        .dashboard-header::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          height: 1px;
          background: linear-gradient(90deg, transparent, rgba(102, 126, 234, 0.5), transparent);
        }

        .header-content {
          display: flex;
          justify-content: space-between;
          align-items: center;
          flex-wrap: wrap;
          gap: 16px;
        }

        .dashboard-title {
          font-size: 2.5rem;
          font-weight: 800;
          background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #667eea 100%);
          background-size: 200% 200%;
          -webkit-background-clip: text;
          background-clip: text;
          color: transparent;
          margin-bottom: 8px;
          animation: gradientShift 4s ease-in-out infinite;
          letter-spacing: -0.02em;
        }

        @keyframes gradientShift {
          0%, 100% { background-position: 0% 50%; }
          50% { background-position: 100% 50%; }
        }

        .dashboard-subtitle {
          color: #666;
          font-size: 1.1rem;
        }

        .header-right {
          display: flex;
          align-items: center;
          gap: 16px;
        }

        /* Dark Theme Variables */
        :root {
          --bg-primary: #ffffff;
          --bg-secondary: #f8f9fa;
          --text-primary: #333333;
          --text-secondary: #666666;
          --border-color: #e9ecef;
          --shadow-light: rgba(0, 0, 0, 0.1);
          --shadow-medium: rgba(0, 0, 0, 0.15);
          --card-bg: rgba(255, 255, 255, 0.95);
          --glass-bg: rgba(255, 255, 255, 0.95);
          --clock-bg: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
          --clock-text: #ffffff;
          --clock-shadow: rgba(102, 126, 234, 0.3);
        }

        [data-theme="dark"] {
          --bg-primary: #1a1a1a;
          --bg-secondary: #2d2d2d;
          --text-primary: #ffffff;
          --text-secondary: #cccccc;
          --border-color: #404040;
          --shadow-light: rgba(0, 0, 0, 0.3);
          --shadow-medium: rgba(0, 0, 0, 0.5);
          --card-bg: rgba(45, 45, 45, 0.95);
          --glass-bg: rgba(45, 45, 45, 0.95);
          --clock-bg: linear-gradient(135deg, #4a5568 0%, #2d3748 100%);
          --clock-text: #ffffff;
          --clock-shadow: rgba(74, 85, 104, 0.5);
        }

        /* Apply theme variables */
        body {
          background: var(--bg-primary);
          color: var(--text-primary);
          transition: all 0.3s ease;
        }

        .dashboard-header {
          background: var(--glass-bg);
          border: 1px solid var(--border-color);
        }

        .dashboard-title {
          color: var(--text-primary);
        }

        .dashboard-subtitle {
          color: var(--text-secondary);
        }

        /* Update other elements for theme support */
        .calculator-card, .input-card, .reminder-item {
          background: var(--card-bg);
          border: 1px solid var(--border-color);
          color: var(--text-primary);
        }

        .card-header {
          background: var(--clock-bg);
          color: var(--clock-text);
        }

        .card-content {
          background: var(--card-bg);
          color: var(--text-primary);
        }

        .btn {
          background: var(--card-bg);
          border: 1px solid var(--border-color);
          color: var(--text-primary);
        }

        .btn:hover {
          background: var(--bg-secondary);
        }

        .tab-btn {
          background: var(--card-bg);
          border: 1px solid var(--border-color);
          color: var(--text-primary);
        }

        .tab-btn.active {
          background: var(--clock-bg);
          color: var(--clock-text);
        }

        .history-card {
          background: var(--card-bg);
          border: 1px solid var(--border-color);
          color: var(--text-primary);
        }

        input, select, textarea {
          background: var(--card-bg);
          border: 1px solid var(--border-color);
          color: var(--text-primary);
        }

        input:focus, select:focus, textarea:focus {
          border-color: #667eea;
          box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        /* Modern Flip Clock Styles */
        .modern-clock-container {
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 8px;
          margin-right: 16px;
        }

        .modern-flip-clock {
          background: var(--card-bg);
          border-radius: 16px;
          padding: 16px 20px;
          box-shadow:
            0 8px 32px var(--shadow-medium),
            0 1px 0 rgba(255, 255, 255, 0.1) inset;
          border: 1px solid var(--border-color);
          backdrop-filter: blur(20px);
        }

        .time-display {
          display: flex;
          align-items: center;
          gap: 8px;
          margin-bottom: 8px;
        }

        .flip-digit-group {
          display: flex;
          gap: 4px;
        }

        .flip-digit {
          position: relative;
          width: 32px;
          height: 44px;
          perspective: 1000px;
        }

        .flip-digit-inner {
          position: relative;
          width: 100%;
          height: 100%;
          text-align: center;
          transition: transform 0.6s ease-in-out;
          transform-style: preserve-3d;
        }

        .flip-digit.flipping .flip-digit-inner {
          transform: rotateX(180deg);
        }

        .flip-digit-front, .flip-digit-back {
          position: absolute;
          width: 100%;
          height: 100%;
          backface-visibility: hidden;
          background: var(--clock-bg);
          color: var(--clock-text);
          border-radius: 8px;
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 1.4rem;
          font-weight: 700;
          font-family: 'Courier New', monospace;
          box-shadow:
            0 4px 12px var(--clock-shadow),
            0 1px 0 rgba(255, 255, 255, 0.2) inset;
          border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .flip-digit-back {
          transform: rotateX(180deg);
        }

        .time-separator {
          font-size: 1.6rem;
          font-weight: 700;
          color: var(--text-primary);
          margin: 0 6px;
          animation: pulse 2s infinite;
          font-family: 'Courier New', monospace;
        }

        @keyframes pulse {
          0%, 50% { opacity: 1; }
          51%, 100% { opacity: 0.4; }
        }

        .am-pm-indicator {
          background: var(--clock-bg);
          color: var(--clock-text);
          padding: 8px 12px;
          border-radius: 8px;
          font-size: 0.9rem;
          font-weight: 600;
          margin-left: 8px;
          box-shadow: 0 2px 8px var(--clock-shadow);
          border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .clock-details {
          text-align: center;
          font-size: 0.75rem;
          color: var(--text-secondary);
        }

        .timezone-info {
          font-weight: 600;
          color: var(--text-primary);
          margin-bottom: 2px;
        }

        .date-info {
          font-size: 0.7rem;
        }

        /* Theme Toggle Button */
        .theme-toggle-btn {
          background: var(--card-bg);
          border: 1px solid var(--border-color);
          color: var(--text-primary);
          padding: 10px;
          border-radius: 50%;
          cursor: pointer;
          transition: all 0.3s ease;
          display: flex;
          align-items: center;
          justify-content: center;
          width: 40px;
          height: 40px;
          box-shadow: 0 4px 12px var(--shadow-light);
          backdrop-filter: blur(20px);
        }

        .theme-toggle-btn:hover {
          transform: translateY(-2px);
          box-shadow: 0 6px 20px var(--shadow-medium);
        }

        .timetable-btn {
          background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
          color: white;
          padding: 14px 24px;
          border: none;
          border-radius: 16px;
          text-decoration: none;
          font-weight: 600;
          font-size: 0.95rem;
          transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
          display: flex;
          align-items: center;
          gap: 10px;
          cursor: pointer;
          position: relative;
          overflow: hidden;
          box-shadow: 0 4px 15px rgba(40, 167, 69, 0.3);
        }

        .timetable-btn::before {
          content: '';
          position: absolute;
          top: 0;
          left: -100%;
          width: 100%;
          height: 100%;
          background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
          transition: left 0.6s;
        }

        .timetable-btn:hover::before {
          left: 100%;
        }

        .timetable-btn:hover {
          background: linear-gradient(135deg, #218838 0%, #1ea085 100%);
          transform: translateY(-3px);
          box-shadow: 0 8px 25px rgba(40, 167, 69, 0.4);
        }

        /* Header Stacking Styles */
        .clock-countdown-stack {
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 8px;
        }

        .theme-logout-stack {
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 8px;
        }

        /* Exam Countdown Styles */
        .exam-countdown {
          background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
          color: white;
          padding: 10px 16px;
          border-radius: 12px;
          box-shadow: 0 4px 15px rgba(255, 107, 107, 0.3);
          animation: pulse 2s infinite;
          min-width: 180px;
          text-align: center;
        }

        .countdown-content {
          text-align: center;
        }

        .countdown-title {
          font-size: 0.7rem;
          font-weight: 600;
          text-transform: uppercase;
          letter-spacing: 1px;
          opacity: 0.9;
          margin-bottom: 2px;
        }

        .countdown-subject {
          font-size: 0.85rem;
          font-weight: 700;
          margin-bottom: 2px;
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
        }

        .countdown-timer {
          font-size: 0.75rem;
          font-weight: 500;
          opacity: 0.95;
        }

        @keyframes pulse {
          0%, 100% { transform: scale(1); }
          50% { transform: scale(1.02); }
        }

        .logout-btn {
          background: linear-gradient(135deg, #dc3545 0%, #c82333 100%);
          color: white;
          padding: 10px 16px;
          border: none;
          border-radius: 12px;
          text-decoration: none;
          font-weight: 600;
          font-size: 0.85rem;
          transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
          display: flex;
          align-items: center;
          gap: 8px;
          position: relative;
          overflow: hidden;
          box-shadow: 0 4px 15px rgba(220, 53, 69, 0.3);
        }

        .logout-btn::before {
          content: '';
          position: absolute;
          top: 0;
          left: -100%;
          width: 100%;
          height: 100%;
          background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
          transition: left 0.6s;
        }

        .logout-btn:hover::before {
          left: 100%;
        }

        .logout-btn:hover {
          background: linear-gradient(135deg, #c82333 0%, #a71e2a 100%);
          transform: translateY(-3px);
          box-shadow: 0 8px 25px rgba(220, 53, 69, 0.4);
        }

        /* Smart Reminders Styles */
        .reminders-header {
          text-align: center;
          margin-bottom: 32px;
        }

        .reminders-header h2 {
          font-size: 2.2rem;
          font-weight: 700;
          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
          -webkit-background-clip: text;
          background-clip: text;
          color: transparent;
          margin-bottom: 8px;
        }

        .feature-description {
          color: #666;
          font-size: 1.1rem;
          max-width: 600px;
          margin: 0 auto;
        }

        .message-input-section,
        .reminder-form-section,
        .reminders-display-section {
          margin-bottom: 32px;
        }

        .input-card {
          background: rgba(255, 255, 255, 0.95);
          backdrop-filter: blur(20px);
          border: 1px solid rgba(255, 255, 255, 0.2);
          border-radius: 24px;
          box-shadow:
            0 20px 40px rgba(0, 0, 0, 0.1),
            0 1px 0 rgba(255, 255, 255, 0.5) inset;
          overflow: hidden;
          transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .input-card:hover {
          transform: translateY(-5px);
          box-shadow:
            0 30px 60px rgba(0, 0, 0, 0.15),
            0 1px 0 rgba(255, 255, 255, 0.5) inset;
        }

        .card-header {
          background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
          padding: 20px 24px;
          border-bottom: 1px solid #e9ecef;
        }

        .card-header h3 {
          font-size: 1.3rem;
          font-weight: 600;
          color: #333;
          margin-bottom: 4px;
        }

        .card-header p {
          color: #666;
          font-size: 0.95rem;
          margin: 0;
        }

        .card-content {
          padding: 24px;
        }

        .form-grid {
          display: grid;
          grid-template-columns: 1fr 1fr 1fr;
          gap: 20px;
          margin-bottom: 20px;
        }

        .form-grid .full-width {
          grid-column: 1 / -1;
        }

        .input-group {
          display: flex;
          flex-direction: column;
        }

        .input-group label {
          font-weight: 500;
          color: #333;
          margin-bottom: 8px;
          font-size: 0.95rem;
        }

        .input-group input,
        .input-group select,
        .input-group textarea {
          padding: 16px 20px;
          border: 2px solid #e9ecef;
          border-radius: var(--border-radius-md);
          font-size: 1rem;
          transition: var(--transition-smooth);
          font-family: inherit;
          background: rgba(255, 255, 255, 0.8);
          backdrop-filter: blur(10px);
          position: relative;
        }

        .input-group input:focus,
        .input-group select:focus,
        .input-group textarea:focus {
          outline: none;
          border-color: #667eea;
          box-shadow:
            0 0 0 4px rgba(102, 126, 234, 0.1),
            0 8px 25px rgba(102, 126, 234, 0.15);
          transform: translateY(-2px);
          background: rgba(255, 255, 255, 0.95);
        }

        .input-group input:hover,
        .input-group select:hover,
        .input-group textarea:hover {
          border-color: #b8c5f2;
          transform: translateY(-1px);
        }

        .input-group textarea {
          resize: vertical;
          min-height: 100px;
        }

        /* Time input specific styling */
        .input-group input[type="time"] {
          max-width: 200px;
        }

        /* Help text styling */
        .input-help {
          font-size: 0.85rem;
          color: #666;
          margin-top: 4px;
          font-style: italic;
        }

        /* 12-hour time input styling */
        .time-input-container {
          display: flex;
          align-items: center;
          gap: 6px;
          flex-wrap: nowrap;
        }

        .time-select {
          padding: 6px 8px;
          border: 2px solid #e1e5e9;
          border-radius: 6px;
          background: white;
          font-size: 13px;
          color: #333;
          min-width: 50px;
          transition: all 0.3s ease;
        }

        .time-select:focus {
          outline: none;
          border-color: #6c5ce7;
          box-shadow: 0 0 0 2px rgba(108, 92, 231, 0.1);
        }

        .time-separator {
          font-weight: bold;
          color: #666;
          font-size: 14px;
          margin: 0 2px;
        }

        /* Time and description layout */
        .time-description-row {
          display: flex;
          gap: 16px;
          align-items: flex-start;
        }

        .time-description-row .input-group {
          flex: 0 0 auto;
          min-width: 200px;
        }

        .time-description-row .input-group.description-group {
          flex: 1;
        }

        @media (max-width: 768px) {
          .time-description-row {
            flex-direction: column;
            gap: 12px;
          }

          .time-description-row .input-group {
            min-width: auto;
          }
        }

        .button-group {
          display: flex;
          gap: 12px;
          flex-wrap: wrap;
        }

        .btn {
          padding: 14px 24px;
          border: none;
          border-radius: var(--border-radius-md);
          font-weight: 600;
          cursor: pointer;
          transition: var(--transition-smooth);
          display: flex;
          align-items: center;
          gap: 10px;
          text-decoration: none;
          font-size: 0.95rem;
          position: relative;
          overflow: hidden;
          outline: none;
        }

        .btn:focus-visible {
          box-shadow:
            0 0 0 3px rgba(102, 126, 234, 0.3),
            0 8px 25px rgba(0, 0, 0, 0.15);
          transform: translateY(-2px);
        }

        .btn:active {
          transform: translateY(0px);
          transition: transform 0.1s;
        }

        .btn-primary {
          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
          color: white;
          position: relative;
          overflow: hidden;
          box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .btn-primary::before {
          content: '';
          position: absolute;
          top: 0;
          left: -100%;
          width: 100%;
          height: 100%;
          background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
          transition: left 0.6s;
        }

        .btn-primary:hover::before {
          left: 100%;
        }

        .btn-primary:hover {
          transform: translateY(-3px);
          box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
        }

        .btn-success {
          background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
          color: white;
          position: relative;
          overflow: hidden;
          box-shadow: 0 4px 15px rgba(40, 167, 69, 0.3);
        }

        .btn-success::before {
          content: '';
          position: absolute;
          top: 0;
          left: -100%;
          width: 100%;
          height: 100%;
          background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
          transition: left 0.6s;
        }

        .btn-success:hover::before {
          left: 100%;
        }

        .btn-success:hover {
          transform: translateY(-3px);
          box-shadow: 0 8px 25px rgba(40, 167, 69, 0.4);
        }

        .btn-secondary {
          background: #f8f9fa;
          color: #666;
          border: 2px solid #e9ecef;
        }

        .btn-secondary:hover {
          background: #e9ecef;
          color: #333;
        }

        .section-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 20px;
          flex-wrap: wrap;
          gap: 16px;
        }

        .section-header h3 {
          font-size: 1.4rem;
          font-weight: 600;
          color: #333;
          margin: 0;
        }

        .header-actions {
          display: flex;
          align-items: center;
          gap: 12px;
        }

        .storage-status {
          display: flex;
          align-items: center;
          gap: 6px;
          padding: 6px 12px;
          background: #f8f9fa;
          border: 1px solid #e9ecef;
          border-radius: 20px;
          font-size: 0.85rem;
          color: #666;
          cursor: help;
        }

        .storage-status.online {
          background: #d4edda;
          border-color: #c3e6cb;
          color: #155724;
        }

        .storage-status.offline {
          background: #fff3cd;
          border-color: #ffeaa7;
          color: #856404;
        }

        .storage-status.error {
          background: #f8d7da;
          border-color: #f5c6cb;
          color: #721c24;
        }

        .reminders-grid {
          display: grid;
          grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
          gap: 20px;
        }

        .reminder-item {
          background: rgba(255, 255, 255, 0.95);
          backdrop-filter: blur(20px);
          border: 1px solid rgba(255, 255, 255, 0.2);
          border-radius: 20px;
          padding: 24px;
          box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
          transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
          border-left: 5px solid;
          position: relative;
          overflow: hidden;
        }

        .reminder-item::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          height: 1px;
          background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.5), transparent);
        }

        .reminder-item:hover {
          transform: translateY(-8px);
          box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
        }

        .reminder-item.exam {
          border-left-color: #dc3545;
          background: linear-gradient(135deg, #fff5f5 0%, #ffffff 100%);
          box-shadow: 0 4px 16px rgba(220, 53, 69, 0.1);
        }

        .reminder-item.exam:hover {
          box-shadow: 0 8px 24px rgba(220, 53, 69, 0.2);
          border-left-color: #c82333;
        }

        .reminder-item.assignment {
          border-left-color: #007bff;
          background: linear-gradient(135deg, #f0f8ff 0%, #ffffff 100%);
          box-shadow: 0 4px 16px rgba(0, 123, 255, 0.1);
        }

        .reminder-item.assignment:hover {
          box-shadow: 0 8px 24px rgba(0, 123, 255, 0.2);
          border-left-color: #0056b3;
        }

        .reminder-item.project {
          border-left-color: #28a745;
          background: linear-gradient(135deg, #f0fff4 0%, #ffffff 100%);
          box-shadow: 0 4px 16px rgba(40, 167, 69, 0.1);
        }

        .reminder-item.project:hover {
          box-shadow: 0 8px 24px rgba(40, 167, 69, 0.2);
          border-left-color: #1e7e34;
        }

        .reminder-item.lab {
          border-left-color: #6f42c1;
          background: linear-gradient(135deg, #f8f5ff 0%, #ffffff 100%);
          box-shadow: 0 4px 16px rgba(111, 66, 193, 0.1);
        }

        .reminder-item.lab:hover {
          box-shadow: 0 8px 24px rgba(111, 66, 193, 0.2);
          border-left-color: #5a2d91;
        }

        .reminder-header {
          display: flex;
          justify-content: space-between;
          align-items: flex-start;
          margin-bottom: 12px;
        }

        .reminder-type-badge {
          padding: 6px 12px;
          border-radius: 20px;
          font-size: 0.85rem;
          font-weight: 500;
          color: white;
        }

        .reminder-type-badge.exam {
          background: linear-gradient(135deg, #dc3545 0%, #c82333 100%);
        }

        .reminder-type-badge.assignment {
          background: linear-gradient(135deg, #007bff 0%, #0056b3 100%);
        }

        .reminder-type-badge.project {
          background: linear-gradient(135deg, #28a745 0%, #1e7e34 100%);
        }

        .reminder-type-badge.lab {
          background: linear-gradient(135deg, #6f42c1 0%, #8e44ad 100%);
        }

        /* Enhanced visual indicators for reminder types - removed duplicate icons */

        /* Filter Options Styling */
        .reminder-filters {
          background: white;
          border-radius: 16px;
          padding: 20px;
          margin-bottom: 20px;
          box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
          display: flex;
          gap: 20px;
          align-items: center;
          flex-wrap: wrap;
        }

        .filter-group {
          display: flex;
          flex-direction: column;
          gap: 8px;
          min-width: 150px;
        }

        .filter-group label {
          font-weight: 600;
          color: #333;
          font-size: 0.9rem;
        }

        .filter-group select {
          padding: 10px 12px;
          border: 2px solid #e9ecef;
          border-radius: 8px;
          background: white;
          font-size: 0.9rem;
          cursor: pointer;
          transition: all 0.3s;
        }

        .filter-group select:focus {
          outline: none;
          border-color: #667eea;
          box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .filter-group select:hover {
          border-color: #667eea;
        }

        .clear-filters-btn {
          padding: 10px 16px;
          background: linear-gradient(135deg, #ff6b6b 0%, #ee5a52 100%);
          color: white;
          border: none;
          border-radius: 8px;
          cursor: pointer;
          font-size: 0.9rem;
          font-weight: 600;
          transition: all 0.3s;
          display: flex;
          align-items: center;
          gap: 8px;
          margin-top: 24px;
        }

        .clear-filters-btn:hover {
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(255, 107, 107, 0.3);
        }

        .clear-filters-btn:active {
          transform: translateY(0);
        }

        /* Filter responsive design */
        @media (max-width: 768px) {
          .reminder-filters {
            flex-direction: column;
            align-items: stretch;
          }

          .filter-group {
            min-width: auto;
          }

          .clear-filters-btn {
            margin-top: 16px;
            align-self: center;
          }
        }

        /* Priority indicators based on countdown */
        .reminder-countdown.overdue {
          background: linear-gradient(135deg, #dc3545 0%, #c82333 100%);
          color: white;
          animation: pulse 2s infinite;
        }

        .reminder-countdown.overdue_today {
          background: linear-gradient(135deg, #dc3545 0%, #fd7e14 100%);
          color: white;
          animation: pulse 1.5s infinite;
          font-weight: 600;
          border: 2px solid rgba(220, 53, 69, 0.3);
        }

        .reminder-countdown.due_today {
          background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
          color: white;
        }

        .reminder-countdown.due_tomorrow {
          background: linear-gradient(135deg, #ffc107 0%, #e0a800 100%);
          color: #333;
        }

        .reminder-countdown.due_now {
          background: linear-gradient(135deg, #dc3545 0%, #c82333 100%);
          color: white;
          animation: pulse 1s infinite;
          font-weight: 600;
        }

        .reminder-countdown.due_soon {
          background: linear-gradient(135deg, #fd7e14 0%, #e55a00 100%);
          color: white;
        }

        .reminder-countdown.due_this_week {
          background: linear-gradient(135deg, #17a2b8 0%, #138496 100%);
          color: white;
        }

        @keyframes pulse {
          0% { transform: scale(1); }
          50% { transform: scale(1.05); }
          100% { transform: scale(1); }
        }

        /* Priority indicators */
        .reminder-item.priority-critical {
          border-left-width: 6px;
          animation: glow 2s infinite alternate;
        }

        .reminder-item.priority-urgent {
          border-left-width: 5px;
        }

        .reminder-item.priority-high {
          border-left-width: 4px;
        }

        @keyframes glow {
          from { box-shadow: 0 4px 16px rgba(220, 53, 69, 0.3); }
          to { box-shadow: 0 8px 24px rgba(220, 53, 69, 0.6); }
        }

        /* Priority indicator */
        .priority-indicator {
          font-size: 1.2rem;
          margin-left: auto;
        }

        .priority-indicator.critical {
          animation: pulse 1s infinite;
        }

        .priority-indicator.urgent {
          animation: pulse 2s infinite;
        }

        /* Due date display */
        .reminder-due-date {
          color: #666;
          font-size: 0.9rem;
          margin-bottom: 12px;
          display: flex;
          align-items: center;
          gap: 6px;
        }

        .reminder-due-date i {
          color: #999;
        }

        /* Reminder Statistics */
        .reminder-stats {
          margin-bottom: 24px;
          background: white;
          border-radius: 16px;
          padding: 20px;
          box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
        }

        .stats-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
          gap: 16px;
        }

        .stat-item {
          text-align: center;
          padding: 16px 12px;
          border-radius: 12px;
          background: #f8f9fa;
          border: 2px solid #e9ecef;
          transition: all 0.3s;
        }

        .stat-item:hover {
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .stat-item.critical {
          background: linear-gradient(135deg, #fff5f5 0%, #ffffff 100%);
          border-color: #dc3545;
        }

        .stat-item.urgent {
          background: linear-gradient(135deg, #fff8f0 0%, #ffffff 100%);
          border-color: #fd7e14;
        }

        .stat-item.overdue {
          background: linear-gradient(135deg, #fff5f5 0%, #ffffff 100%);
          border-color: #dc3545;
        }

        .stat-item.due-today {
          background: linear-gradient(135deg, #fff3e0 0%, #ffffff 100%);
          border-color: #ffc107;
        }

        .stat-item.total {
          background: linear-gradient(135deg, #f0f8ff 0%, #ffffff 100%);
          border-color: #007bff;
        }

        .stat-number {
          font-size: 2rem;
          font-weight: 700;
          margin-bottom: 4px;
        }

        .stat-item.critical .stat-number {
          color: #dc3545;
        }

        .stat-item.urgent .stat-number {
          color: #fd7e14;
        }

        .stat-item.overdue .stat-number {
          color: #dc3545;
        }

        .stat-item.due-today .stat-number {
          color: #ffc107;
        }

        .stat-item.total .stat-number {
          color: #007bff;
        }

        .stat-label {
          font-size: 0.9rem;
          font-weight: 500;
          color: #666;
        }

        /* Email Settings */
        .email-settings-section {
          margin-bottom: 32px;
        }

        .settings-header {
          background: white;
          border-radius: 16px;
          padding: 20px 24px;
          box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
          cursor: pointer;
          display: flex;
          justify-content: space-between;
          align-items: center;
          transition: all 0.3s;
        }

        .settings-header:hover {
          box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
        }

        .settings-header h3 {
          font-size: 1.3rem;
          font-weight: 600;
          color: #333;
          margin: 0;
        }

        .toggle-btn {
          background: none;
          border: none;
          color: #666;
          font-size: 1.2rem;
          cursor: pointer;
          transition: transform 0.3s;
        }

        .toggle-btn.active {
          transform: rotate(180deg);
        }

        .settings-content {
          background: white;
          border-radius: 0 0 16px 16px;
          margin-top: -16px;
          padding: 0 24px 24px 24px;
          box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
        }

        .settings-card {
          padding-top: 20px;
        }

        .setting-item {
          display: flex;
          align-items: center;
          gap: 16px;
          margin-bottom: 20px;
        }

        .setting-info {
          flex: 1;
        }

        .setting-title {
          font-weight: 600;
          color: #333;
          margin-bottom: 4px;
        }

        .setting-description {
          font-size: 0.9rem;
          color: #666;
        }

        /* Toggle Switch */
        .switch {
          position: relative;
          display: inline-block;
          width: 60px;
          height: 34px;
        }

        .switch input {
          opacity: 0;
          width: 0;
          height: 0;
        }

        .slider {
          position: absolute;
          cursor: pointer;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background-color: #ccc;
          transition: .4s;
          border-radius: 34px;
        }

        .slider:before {
          position: absolute;
          content: "";
          height: 26px;
          width: 26px;
          left: 4px;
          bottom: 4px;
          background-color: white;
          transition: .4s;
          border-radius: 50%;
        }

        input:checked + .slider {
          background-color: #667eea;
        }

        input:checked + .slider:before {
          transform: translateX(26px);
        }

        /* Notification Options */
        .notification-options {
          margin: 20px 0;
        }

        .notification-options h4 {
          font-size: 1.1rem;
          font-weight: 600;
          color: #333;
          margin-bottom: 12px;
        }

        .option-grid {
          display: grid;
          gap: 12px;
        }

        .checkbox-label {
          display: flex;
          align-items: center;
          gap: 12px;
          cursor: pointer;
          font-size: 0.95rem;
          color: #333;
        }

        .checkbox-label input[type="checkbox"] {
          width: 18px;
          height: 18px;
          accent-color: #667eea;
        }

        .settings-actions {
          display: flex;
          gap: 12px;
          margin-top: 20px;
          flex-wrap: wrap;
        }

        .reminder-title {
          font-size: 1.2rem;
          font-weight: 600;
          color: #333;
          margin-bottom: 8px;
          line-height: 1.3;
        }

        .reminder-description {
          color: #666;
          font-size: 0.95rem;
          line-height: 1.4;
          margin-bottom: 16px;
        }

        .reminder-footer {
          display: flex;
          justify-content: space-between;
          align-items: center;
          flex-wrap: wrap;
          gap: 12px;
        }

        .reminder-countdown {
          font-weight: 500;
          padding: 6px 12px;
          border-radius: 20px;
          font-size: 0.9rem;
        }

        .reminder-countdown.upcoming {
          background: #e3f2fd;
          color: #1976d2;
        }

        .reminder-countdown.due_today {
          background: #fff3e0;
          color: #f57c00;
        }

        .reminder-countdown.due_tomorrow {
          background: #fff3e0;
          color: #f57c00;
        }

        .reminder-countdown.overdue {
          background: #ffebee;
          color: #d32f2f;
        }

        .reminder-countdown.no_date {
          background: #f5f5f5;
          color: #757575;
        }

        .reminder-actions {
          display: flex;
          gap: 8px;
        }

        .reminder-action-btn {
          width: 36px;
          height: 36px;
          border: none;
          border-radius: 8px;
          background: #f8f9fa;
          color: #666;
          cursor: pointer;
          transition: all 0.3s;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .reminder-action-btn:hover {
          background: #667eea;
          color: white;
          transform: translateY(-2px);
        }

        .reminder-action-btn.delete:hover {
          background: #dc3545;
        }

        .empty-state {
          text-align: center;
          padding: 60px 20px;
          color: #666;
          grid-column: 1 / -1;
        }

        .empty-icon {
          font-size: 3rem;
          margin-bottom: 16px;
          opacity: 0.3;
        }

        .loading-state {
          text-align: center;
          padding: 60px 20px;
          color: #666;
          grid-column: 1 / -1;
        }

        .loading-state i {
          font-size: 3rem;
          margin-bottom: 20px;
          color: #667eea;
          animation: modernSpin 2s linear infinite;
        }

        @keyframes modernSpin {
          0% { transform: rotate(0deg) scale(1); }
          50% { transform: rotate(180deg) scale(1.1); }
          100% { transform: rotate(360deg) scale(1); }
        }

        /* Modern Pulse Animation */
        .pulse {
          animation: modernPulse 2s ease-in-out infinite;
        }

        @keyframes modernPulse {
          0%, 100% {
            transform: scale(1);
            opacity: 1;
          }
          50% {
            transform: scale(1.05);
            opacity: 0.8;
          }
        }

        /* Tab Navigation */
        .tab-navigation {
          display: flex;
          background: rgba(255, 255, 255, 0.95);
          backdrop-filter: blur(20px);
          border: 1px solid rgba(255, 255, 255, 0.2);
          border-radius: 20px;
          padding: 12px;
          margin-bottom: 32px;
          box-shadow:
            0 20px 40px rgba(0, 0, 0, 0.1),
            0 1px 0 rgba(255, 255, 255, 0.5) inset;
          overflow-x: auto;
          position: relative;
        }

        .tab-navigation::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          height: 1px;
          background: linear-gradient(90deg, transparent, rgba(102, 126, 234, 0.3), transparent);
        }

        .tab-btn {
          flex: 1;
          background: none;
          border: none;
          padding: 18px 24px;
          border-radius: 16px;
          font-weight: 600;
          font-size: 0.95rem;
          color: #666;
          cursor: pointer;
          transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 10px;
          white-space: nowrap;
          min-width: 160px;
          position: relative;
          overflow: hidden;
        }

        .tab-btn::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);
          opacity: 0;
          transition: opacity 0.3s;
        }

        .tab-btn:hover::before {
          opacity: 1;
        }

        .tab-btn:hover {
          color: #333;
          transform: translateY(-2px);
        }

        .tab-btn.active {
          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
          color: white;
          box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
          transform: translateY(-2px);
        }

        .tab-btn.active::before {
          opacity: 0;
        }

        /* Tab Content */
        .tab-content {
          background: rgba(255, 255, 255, 0.95);
          backdrop-filter: blur(20px);
          border: 1px solid rgba(255, 255, 255, 0.2);
          border-radius: 24px;
          padding: 32px;
          box-shadow:
            0 20px 40px rgba(0, 0, 0, 0.1),
            0 1px 0 rgba(255, 255, 255, 0.5) inset;
          min-height: 600px;
          position: relative;
          overflow: hidden;
        }

        .tab-content::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          height: 1px;
          background: linear-gradient(90deg, transparent, rgba(102, 126, 234, 0.3), transparent);
        }

        .tab-pane {
          display: none;
        }

        .tab-pane.active {
          display: block;
        }

        /* Timetable Styles */
        .timetable-container {
          max-width: 800px;
          margin: 0 auto;
          padding: 20px;
          min-height: 100vh;
          transform: none !important;
          direction: ltr !important;
        }

        /* Global fix for text mirroring in timetable */
        .timetable-container,
        .timetable-container *,
        .timetable-header,
        .timetable-header *,
        .timetable-toggle,
        .timetable-toggle *,
        .toggle-btn,
        .toggle-btn * {
          transform: none !important;
          -webkit-transform: none !important;
          -moz-transform: none !important;
          -ms-transform: none !important;
          direction: ltr !important;
          unicode-bidi: normal !important;
          text-align: inherit !important;
          writing-mode: horizontal-tb !important;
          text-orientation: mixed !important;
        }

        /* Specific fix for button text */
        .toggle-btn {
          -webkit-font-feature-settings: normal !important;
          font-feature-settings: normal !important;
          -webkit-text-orientation: mixed !important;
          text-orientation: mixed !important;
          filter: none !important;
          -webkit-filter: none !important;
        }

        /* Additional fix for any CSS filters causing mirroring */
        #timetable, #timetable * {
          filter: none !important;
          -webkit-filter: none !important;
          transform: none !important;
          -webkit-transform: none !important;
        }

        /* Mobile Responsive for Header Stacks */
        @media (max-width: 768px) {
          .header {
            padding: 15px 20px;
            flex-direction: column;
            gap: 15px;
          }

          .header-left {
            text-align: center;
          }

          .header-right {
            justify-content: center;
            flex-wrap: wrap;
            gap: 15px;
          }

          .clock-container {
            order: -1;
          }

          .clock-countdown-stack {
            gap: 6px;
          }

          .theme-logout-stack {
            gap: 6px;
          }

          .exam-countdown {
            min-width: 160px;
            padding: 8px 12px;
          }

          .theme-toggle-btn {
            width: 36px;
            height: 36px;
            padding: 8px;
          }

          .logout-btn {
            padding: 8px 12px;
            font-size: 0.8rem;
            gap: 6px;
          }

          /* Exam action buttons mobile responsive */
          .exam-actions {
            gap: 6px;
          }

          .edit-btn, .delete-btn {
            min-width: 32px;
            height: 32px;
            padding: 6px 8px;
            font-size: 0.8rem;
          }

          .exam-item {
            padding: 16px;
          }

          .exam-subject {
            font-size: 1.1rem;
          }
        }

        .timetable-header {
          background: white;
          border-radius: 16px;
          padding: 20px;
          margin-bottom: 20px;
          box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .timetable-header-content {
          display: flex;
          justify-content: space-between;
          align-items: center;
          gap: 16px;
        }

        .timetable-header-left {
          display: flex;
          align-items: center;
          gap: 16px;
        }

        .back-btn {
          background: #f8f9fa;
          color: #667eea;
          width: 44px;
          height: 44px;
          border-radius: 12px;
          display: flex;
          align-items: center;
          justify-content: center;
          text-decoration: none;
          transition: all 0.3s;
          border: 2px solid #e9ecef;
          cursor: pointer;
        }

        .back-btn:hover {
          background: #667eea;
          color: white;
          transform: translateY(-2px);
        }

        .page-title {
          font-size: 1.8rem;
          font-weight: 700;
          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
          -webkit-background-clip: text;
          background-clip: text;
          color: transparent;
          margin-bottom: 4px;
        }

        .page-subtitle {
          color: #666;
          font-size: 1rem;
        }

        .timetable-header-right {
          display: flex;
          align-items: center;
          gap: 12px;
          transform: none !important;
          direction: ltr !important;
        }

        /* Timetable Toggle Styles */
        .timetable-toggle {
          display: flex;
          background: #f8f9fa;
          border-radius: 12px;
          padding: 4px;
          gap: 2px;
          transform: none;
          direction: ltr;
        }

        .toggle-btn {
          padding: 8px 16px;
          border: none;
          border-radius: 8px;
          background: transparent;
          color: #666;
          font-size: 0.85rem;
          font-weight: 500;
          cursor: pointer;
          transition: all 0.3s ease;
          display: flex;
          align-items: center;
          gap: 6px;
          transform: none;
          direction: ltr;
          text-align: left;
        }

        .toggle-btn:hover {
          background: #e9ecef;
          color: #495057;
        }

        .toggle-btn.active {
          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
          color: white;
          box-shadow: 0 2px 8px rgba(102, 126, 234, 0.3);
        }

        .toggle-btn i {
          font-size: 0.8rem;
          transform: none;
        }

        /* Fix any text mirroring issues */
        .toggle-btn, .toggle-btn * {
          transform: none !important;
          -webkit-transform: none !important;
          -moz-transform: none !important;
          -ms-transform: none !important;
          direction: ltr !important;
          unicode-bidi: normal !important;
        }

        /* Exam Schedule Styles */
        .exam-schedule-list {
          display: flex;
          flex-direction: column;
          gap: 16px;
        }

        .exam-item {
          background: white;
          border-radius: 12px;
          padding: 20px;
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
          border-left: 4px solid #667eea;
          transition: all 0.3s ease;
        }

        .exam-item:hover {
          transform: translateY(-2px);
          box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
        }

        .exam-item:hover .exam-actions {
          opacity: 1;
        }

        .exam-item.upcoming-exam {
          border-left-color: #28a745;
          background: linear-gradient(135deg, #f8fff9 0%, #ffffff 100%);
        }

        .exam-item.past-exam {
          border-left-color: #6c757d;
          background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%);
          opacity: 0.7;
        }

        .exam-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 12px;
        }

        .exam-subject {
          font-size: 1.2rem;
          font-weight: 700;
          color: #2c3e50;
        }

        .exam-actions {
          display: flex;
          gap: 8px;
          opacity: 0.7;
          transition: opacity 0.3s ease;
        }

        .edit-btn, .delete-btn {
          background: rgba(255, 255, 255, 0.9);
          border: none;
          border-radius: 8px;
          padding: 8px 10px;
          cursor: pointer;
          transition: all 0.3s ease;
          font-size: 0.9rem;
          display: flex;
          align-items: center;
          justify-content: center;
          min-width: 36px;
          height: 36px;
          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .edit-btn {
          color: #667eea;
        }

        .edit-btn:hover {
          background: #667eea;
          color: white;
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }

        .delete-btn {
          color: #dc3545;
        }

        .delete-btn:hover {
          background: #dc3545;
          color: white;
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(220, 53, 69, 0.3);
        }

        .exam-details {
          display: flex;
          flex-direction: column;
          gap: 8px;
        }

        .exam-date, .exam-time, .exam-location {
          display: flex;
          align-items: center;
          gap: 8px;
          color: #666;
          font-size: 0.9rem;
        }

        .exam-countdown {
          display: inline-block;
          padding: 6px 12px;
          border-radius: 20px;
          font-size: 0.8rem;
          font-weight: 600;
          text-transform: uppercase;
          letter-spacing: 0.5px;
        }

        .exam-countdown.upcoming {
          background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
          color: white;
        }

        .exam-countdown.past {
          background: #6c757d;
          color: white;
        }

        @media (max-width: 768px) {
          .exam-header {
            flex-direction: column;
            align-items: flex-start;
            gap: 12px;
          }

          .exam-actions {
            align-self: flex-end;
          }
        }

        .add-btn {
          background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
          color: white;
          width: 44px;
          height: 44px;
          border: none;
          border-radius: 12px;
          display: flex;
          align-items: center;
          justify-content: center;
          cursor: pointer;
          transition: all 0.3s;
          font-size: 1.1rem;
        }

        .add-btn:hover {
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(40, 167, 69, 0.3);
        }

        /* Day Navigation */
        .day-navigation {
          background: white;
          border-radius: 16px;
          padding: 24px;
          margin-bottom: 20px;
          box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
          display: flex;
          align-items: center;
          justify-content: space-between;
        }

        .nav-btn {
          background: #f8f9fa;
          border: 2px solid #e9ecef;
          width: 48px;
          height: 48px;
          border-radius: 12px;
          display: flex;
          align-items: center;
          justify-content: center;
          cursor: pointer;
          transition: all 0.3s;
          color: #667eea;
          font-size: 1.2rem;
        }

        .nav-btn:hover {
          background: #667eea;
          color: white;
          border-color: #667eea;
          transform: translateY(-2px);
        }

        .day-info {
          text-align: center;
          flex: 1;
        }

        .day-name {
          font-size: 2rem;
          font-weight: 700;
          color: #333;
          margin-bottom: 4px;
        }

        .day-date {
          font-size: 1.1rem;
          color: #667eea;
          font-weight: 500;
        }

        /* Timetable Content */
        .timetable-content {
          background: white;
          border-radius: 16px;
          padding: 24px;
          box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
          min-height: 400px;
        }

        .schedule-container {
          display: flex;
          flex-direction: column;
          gap: 16px;
        }

        .empty-schedule {
          text-align: center;
          padding: 60px 20px;
          color: #666;
        }

        .empty-icon {
          font-size: 3rem;
          margin-bottom: 16px;
          opacity: 0.3;
        }

        .empty-schedule p {
          margin-bottom: 20px;
          font-size: 1.1rem;
        }

        /* Schedule Items */
        .schedule-item {
          border-radius: 16px;
          padding: 20px;
          color: white;
          display: flex;
          align-items: center;
          gap: 16px;
          cursor: pointer;
          transition: all 0.3s;
          position: relative;
          overflow: hidden;
        }

        .schedule-item:hover {
          transform: translateY(-4px);
          box-shadow: 0 12px 32px rgba(0, 0, 0, 0.2);
        }

        .schedule-item::before {
          content: "";
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.05) 100%);
          pointer-events: none;
        }

        .schedule-number {
          background: rgba(255, 255, 255, 0.2);
          width: 40px;
          height: 40px;
          border-radius: 12px;
          display: flex;
          align-items: center;
          justify-content: center;
          font-weight: 700;
          font-size: 1.1rem;
          flex-shrink: 0;
        }

        .schedule-content {
          flex: 1;
          display: flex;
          gap: 20px;
          align-items: center;
        }

        .schedule-time {
          min-width: 80px;
        }

        .time-start {
          font-size: 1.1rem;
          font-weight: 600;
          margin-bottom: 2px;
        }

        .time-end {
          font-size: 0.9rem;
          opacity: 0.9;
        }

        .schedule-details {
          flex: 1;
        }

        .subject-name {
          font-size: 1.3rem;
          font-weight: 700;
          margin-bottom: 4px;
        }

        .teacher-name {
          font-size: 1rem;
          opacity: 0.9;
          margin-bottom: 8px;
        }

        .room-info {
          font-size: 0.9rem;
          opacity: 0.8;
          display: flex;
          align-items: center;
          gap: 4px;
          margin-bottom: 4px;
        }

        .class-type {
          display: inline-block;
          background: rgba(255, 255, 255, 0.2);
          padding: 4px 8px;
          border-radius: 6px;
          font-size: 0.8rem;
          font-weight: 500;
        }

        .schedule-actions {
          display: flex;
          gap: 8px;
          opacity: 0;
          transition: opacity 0.3s;
        }

        .schedule-item:hover .schedule-actions {
          opacity: 1;
        }

        .action-btn {
          background: rgba(255, 255, 255, 0.2);
          border: none;
          width: 32px;
          height: 32px;
          border-radius: 8px;
          color: white;
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all 0.3s;
          font-size: 0.9rem;
        }

        .action-btn:hover {
          background: rgba(255, 255, 255, 0.3);
          transform: scale(1.1);
        }

        .delete-btn:hover {
          background: rgba(220, 53, 69, 0.8);
        }

        /* Modal Styles */
        .modal {
          display: none;
          position: fixed;
          z-index: 1000;
          left: 0;
          top: 0;
          width: 100%;
          height: 100%;
          background-color: rgba(0, 0, 0, 0.5);
          backdrop-filter: blur(4px);
          align-items: center;
          justify-content: center;
          padding: 20px;
        }

        .modal-content {
          background: white;
          border-radius: 16px;
          width: 100%;
          max-width: 500px;
          max-height: 90vh;
          overflow-y: auto;
          box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
          animation: modalSlideIn 0.3s ease-out;
        }

        @keyframes modalSlideIn {
          from {
            opacity: 0;
            transform: translateY(-50px) scale(0.9);
          }
          to {
            opacity: 1;
            transform: translateY(0) scale(1);
          }
        }

        .modal-header {
          padding: 24px 24px 0 24px;
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 20px;
        }

        .modal-header h3 {
          font-size: 1.3rem;
          font-weight: 600;
          color: #333;
        }

        .modal-close {
          background: #f8f9fa;
          border: none;
          width: 32px;
          height: 32px;
          border-radius: 8px;
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          color: #666;
          transition: all 0.3s;
        }

        .modal-close:hover {
          background: #e9ecef;
          color: #333;
        }

        .modal-body {
          padding: 0 24px 24px 24px;
        }

        /* Form Styles */
        .form-row {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 16px;
          margin-bottom: 16px;
        }

        .form-group {
          margin-bottom: 16px;
        }

        .form-group label {
          display: block;
          margin-bottom: 6px;
          font-weight: 500;
          color: #333;
        }

        .form-group input,
        .form-group select {
          width: 100%;
          padding: 12px;
          border: 2px solid #e9ecef;
          border-radius: 8px;
          font-size: 14px;
          transition: all 0.3s;
        }

        .form-group input:focus,
        .form-group select:focus {
          outline: none;
          border-color: #667eea;
          box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .modal-actions {
          display: flex;
          gap: 12px;
          justify-content: flex-end;
          margin-top: 24px;
        }

        /* Formula Info */
        .formula-info {
          background: linear-gradient(135deg, #e3f2fd 0%, #f3e5f5 100%);
          padding: 16px;
          border-radius: 12px;
          margin-bottom: 24px;
          text-align: center;
          font-weight: 500;
          color: #333;
        }

        /* Calculator Grid */
        .calculator-grid {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 24px;
        }

        .calculator-card {
          background: var(--glass-bg);
          backdrop-filter: blur(20px);
          border: 1px solid var(--glass-border);
          border-radius: var(--border-radius-xl);
          overflow: hidden;
          transition: var(--transition-smooth);
          position: relative;
        }

        .calculator-card::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          height: 1px;
          background: linear-gradient(90deg, transparent, rgba(102, 126, 234, 0.3), transparent);
        }

        .calculator-card:hover {
          transform: translateY(-5px);
          box-shadow: var(--glass-shadow-hover);
        }

        .card-header {
          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
          color: white;
          padding: 16px 20px;
        }

        .card-header h3 {
          font-size: 1.1rem;
          font-weight: 600;
        }

        .card-content {
          padding: 20px;
        }

        /* Semester Container */
        .semester-container {
          max-height: 400px;
          overflow-y: auto;
          margin-bottom: 20px;
        }

        .semester-item {
          background: white;
          border: 1px solid #e9ecef;
          border-radius: 8px;
          padding: 16px;
          margin-bottom: 12px;
        }

        .semester-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 12px;
        }

        .semester-title {
          font-weight: 600;
          color: #333;
        }

        .remove-semester {
          background: #dc3545;
          color: white;
          border: none;
          padding: 6px 8px;
          border-radius: 4px;
          cursor: pointer;
          font-size: 0.8rem;
        }

        .semester-inputs {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 12px;
        }

        /* Input Styles */
        .input-group {
          margin-bottom: 16px;
        }

        .input-group label {
          display: block;
          margin-bottom: 6px;
          font-weight: 500;
          color: #333;
        }

        .input-group input,
        .input-group select {
          width: 100%;
          padding: 12px;
          border: 2px solid #e9ecef;
          border-radius: 8px;
          font-size: 14px;
          transition: all 0.3s;
        }

        .input-group input:focus,
        .input-group select:focus {
          outline: none;
          border-color: #667eea;
          box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .input-row {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 16px;
        }

        /* Button Styles */
        .btn {
          padding: 12px 20px;
          border: none;
          border-radius: 8px;
          font-weight: 500;
          cursor: pointer;
          transition: all 0.3s;
          display: inline-flex;
          align-items: center;
          gap: 8px;
          text-decoration: none;
          font-size: 14px;
        }

        .btn-primary {
          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
          color: white;
        }

        .btn-primary:hover {
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }

        .btn-success {
          background: #28a745;
          color: white;
        }

        .btn-success:hover {
          background: #218838;
          transform: translateY(-2px);
        }

        .btn-outline {
          background: white;
          color: #667eea;
          border: 2px solid #667eea;
        }

        .btn-outline:hover {
          background: #667eea;
          color: white;
        }

        .action-buttons {
          display: flex;
          gap: 12px;
          flex-wrap: wrap;
        }

        /* Results Container */
        .results-container {
          min-height: 300px;
        }

        .empty-state {
          text-align: center;
          padding: 60px 20px;
          color: #666;
        }

        .loading-state {
          text-align: center;
          padding: 60px 20px;
          color: #666;
        }

        .loading-state i {
          font-size: 2rem;
          margin-bottom: 16px;
          color: #667eea;
        }

        /* CGPA Results */
        .cgpa-result-card {
          background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
          color: white;
          padding: 24px;
          border-radius: 12px;
          text-align: center;
          margin-bottom: 20px;
        }

        .cgpa-value {
          font-size: 3rem;
          font-weight: 700;
          margin: 8px 0;
        }

        .cgpa-scale {
          font-size: 0.9rem;
          opacity: 0.9;
        }

        .gpa-scales {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 16px;
          margin-bottom: 20px;
        }

        .cgpa-scale-selector {
          background: #f8f9fa;
          padding: 20px;
          border-radius: 12px;
          margin-bottom: 24px;
          border: 2px solid #e9ecef;
        }

        .scale-info {
          margin-top: 8px;
          padding: 8px 12px;
          background: #e3f2fd;
          border-radius: 6px;
          border-left: 4px solid #2196f3;
        }

        .scale-info small {
          color: #1976d2;
          font-weight: 500;
        }

        .gpa-scale-card {
          background: white;
          padding: 16px;
          border-radius: 8px;
          text-align: center;
          border: 1px solid #e9ecef;
        }

        .scale-value {
          font-size: 1.5rem;
          font-weight: 600;
          color: #667eea;
          margin-bottom: 4px;
        }

        .scale-label {
          font-size: 0.9rem;
          color: #666;
          margin-bottom: 4px;
        }

        .scale-formula {
          font-size: 0.8rem;
          color: #999;
        }

        /* Attendance Results */
        .attendance-result-card {
          padding: 24px;
          border-radius: 12px;
          text-align: center;
          margin-bottom: 20px;
          color: white;
        }

        .attendance-result-card.safe {
          background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
        }

        .attendance-result-card.at-risk {
          background: linear-gradient(135deg, #dc3545 0%, #fd7e14 100%);
        }

        .attendance-percentage {
          font-size: 3rem;
          font-weight: 700;
          margin: 8px 0;
        }

        .recommendation-card {
          padding: 16px;
          border-radius: 8px;
          margin-top: 16px;
        }

        .recommendation-card.safe {
          background: #d4edda;
          border: 1px solid #c3e6cb;
          color: #155724;
        }

        .recommendation-card.at-risk {
          background: #f8d7da;
          border: 1px solid #f5c6cb;
          color: #721c24;
        }

        /* Holidays Styles */
        .holidays-header {
          margin-bottom: 24px;
        }

        .holiday-controls {
          display: flex;
          align-items: end;
          gap: 15px;
          margin-top: 15px;
        }

        .holiday-controls .input-group {
          margin-bottom: 0;
        }

        .holiday-controls select {
          min-width: 120px;
        }

        .holidays-grid {
          display: grid;
          grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
          gap: 20px;
        }

        .holiday-card {
          background: white;
          border: 1px solid #e9ecef;
          border-radius: 12px;
          padding: 20px;
          transition: all 0.3s;
          position: relative;
        }

        .holiday-card:hover {
          transform: translateY(-4px);
          box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
        }

        .holiday-card.today {
          border-color: #dc3545;
          background: #fff5f5;
        }

        .holiday-card.upcoming {
          border-color: #28a745;
        }

        .holiday-card.past {
          opacity: 0.6;
        }

        .holiday-header {
          display: flex;
          justify-content: space-between;
          align-items: flex-start;
          margin-bottom: 12px;
        }

        .holiday-date {
          font-size: 0.9rem;
          font-weight: 600;
          color: #667eea;
        }

        .holiday-type {
          padding: 4px 8px;
          border-radius: 12px;
          font-size: 0.8rem;
          font-weight: 500;
        }

        .holiday-type.national {
          background: #e3f2fd;
          color: #1976d2;
        }

        .holiday-type.state {
          background: #e8f5e8;
          color: #2e7d32;
        }

        .holiday-type.religious {
          background: #fff3e0;
          color: #f57c00;
        }

        .holiday-type.festival {
          background: #f3e5f5;
          color: #7b1fa2;
        }

        .holiday-name {
          font-size: 1.1rem;
          font-weight: 600;
          margin-bottom: 8px;
          color: #333;
        }

        .holiday-description {
          font-size: 0.9rem;
          color: #666;
          margin-bottom: 12px;
          line-height: 1.4;
        }

        .holiday-countdown {
          font-size: 0.9rem;
          font-weight: 600;
          padding: 6px 12px;
          border-radius: 6px;
          display: inline-block;
        }

        .holiday-countdown.today {
          background: #dc3545;
          color: white;
        }

        .holiday-countdown.upcoming {
          background: #28a745;
          color: white;
        }

        /* History Styles */
        .history-container {
          display: flex;
          flex-direction: column;
          gap: 32px;
        }

        .history-section {
          background: #f8f9fa;
          border-radius: 12px;
          padding: 24px;
        }

        .section-header {
          margin-bottom: 20px;
          padding-bottom: 12px;
          border-bottom: 2px solid #e9ecef;
        }

        .section-header h3 {
          font-size: 1.2rem;
          color: #333;
          display: flex;
          align-items: center;
          gap: 8px;
        }

        .history-grid {
          display: grid;
          grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
          gap: 16px;
        }

        .history-card {
          background: white;
          border: 1px solid #e9ecef;
          border-radius: 8px;
          padding: 16px;
          border-left: 4px solid #667eea;
        }

        .history-card.cgpa {
          border-left-color: #667eea;
        }

        .history-card.attendance {
          border-left-color: #28a745;
        }

        .history-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 12px;
        }

        .delete-history-btn {
          background: rgba(220, 53, 69, 0.1);
          border: 1px solid rgba(220, 53, 69, 0.3);
          color: #dc3545;
          padding: 6px 8px;
          border-radius: 6px;
          cursor: pointer;
          font-size: 0.8rem;
          transition: all 0.3s;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .delete-history-btn:hover {
          background: #dc3545;
          color: white;
          transform: scale(1.05);
        }

        .history-date {
          font-size: 0.8rem;
          color: #666;
        }

        .history-value {
          font-size: 1.5rem;
          font-weight: 600;
          margin-bottom: 4px;
        }

        .history-value.cgpa {
          color: #667eea;
        }

        .history-value.attendance {
          color: #28a745;
        }

        .history-details {
          font-size: 0.9rem;
          color: #666;
        }

        /* Flash Messages */
        #flashMessages {
          position: fixed;
          top: 20px;
          right: 20px;
          z-index: 1000;
        }

        .flash-message {
          padding: 12px 16px;
          border-radius: 8px;
          margin-bottom: 8px;
          display: flex;
          justify-content: space-between;
          align-items: center;
          min-width: 300px;
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
          animation: slideIn 0.3s ease-out;
        }

        .flash-success {
          background: #d4edda;
          color: #155724;
          border: 1px solid #c3e6cb;
        }

        .flash-error {
          background: #f8d7da;
          color: #721c24;
          border: 1px solid #f5c6cb;
        }

        .flash-close {
          background: none;
          border: none;
          font-size: 1.2rem;
          cursor: pointer;
          color: inherit;
          opacity: 0.7;
        }

        .flash-close:hover {
          opacity: 1;
        }

        @keyframes slideIn {
          from {
            transform: translateX(100%);
            opacity: 0;
          }
          to {
            transform: translateX(0);
            opacity: 1;
          }
        }

        /* Modern Utility Classes */
        .glass-card {
          background: var(--glass-bg);
          backdrop-filter: blur(20px);
          border: 1px solid var(--glass-border);
          border-radius: var(--border-radius-xl);
          box-shadow: var(--glass-shadow);
          transition: var(--transition-smooth);
        }

        .glass-card:hover {
          box-shadow: var(--glass-shadow-hover);
          transform: translateY(-5px);
        }

        .modern-gradient-text {
          background: var(--primary-gradient);
          background-size: 200% 200%;
          -webkit-background-clip: text;
          background-clip: text;
          color: transparent;
          animation: gradientShift 4s ease-in-out infinite;
        }

        .floating-element {
          animation: modernFloat 6s ease-in-out infinite;
        }

        /* Event Calendar Styles */
        .calendar-date {
          position: relative;
          min-height: 70px;
          padding: 10px;
          border: 1px solid #e9ecef;
          cursor: pointer;
          transition: all 0.3s ease;
          background: white;
          display: flex;
          flex-direction: column;
          justify-content: space-between;
        }

        .calendar-date:hover {
          background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(0,0,0,0.1);
          border-color: #6c5ce7;
        }

        .calendar-date.today {
          background: white;
          color: #2d3436;
          font-weight: bold;
          border: 3px solid #0984e3;
          box-shadow: 0 0 0 2px rgba(9, 132, 227, 0.2), 0 4px 12px rgba(9, 132, 227, 0.15);
        }

        .calendar-date.today:hover {
          background: #f8f9fa;
          transform: translateY(-2px);
          box-shadow: 0 0 0 2px rgba(9, 132, 227, 0.3), 0 6px 16px rgba(9, 132, 227, 0.2);
        }

        .calendar-date.has-events {
          border: 2px solid #00b894;
          background: linear-gradient(135deg, #f1f9f7 0%, #e8f5f0 100%);
        }

        .calendar-date.has-events:hover {
          background: linear-gradient(135deg, #e8f5f0 0%, #d1f2eb 100%);
          border-color: #00a085;
        }

        .calendar-date.today.has-events {
          background: linear-gradient(135deg, #f1f9f7 0%, #e8f5f0 100%);
          border: 3px solid #0984e3;
          box-shadow: 0 0 0 2px rgba(9, 132, 227, 0.2), 0 0 0 4px rgba(0, 184, 148, 0.2), 0 4px 12px rgba(9, 132, 227, 0.15);
        }

        .calendar-date.other-month {
          opacity: 0.3;
          background: #f8f9fa;
        }

        .calendar-date.other-month:hover {
          opacity: 0.6;
        }

        .date-number {
          font-weight: 600;
          font-size: 18px;
          line-height: 1;
          color: #2d3436;
          text-shadow: 0 1px 2px rgba(255, 255, 255, 0.8);
        }

        .calendar-date.today .date-number {
          color: #0984e3;
          font-weight: 700;
          font-size: 20px;
        }

        .event-indicator {
          position: absolute;
          bottom: 4px;
          right: 4px;
          background: linear-gradient(135deg, #00b894 0%, #00a085 100%);
          color: white;
          border-radius: 12px;
          min-width: 20px;
          height: 20px;
          font-size: 11px;
          display: flex;
          align-items: center;
          justify-content: center;
          font-weight: bold;
          padding: 0 6px;
          box-shadow: 0 2px 6px rgba(0, 184, 148, 0.3);
        }

        /* Event Indicator Color Variations */
        .event-indicator-blue {
          background: linear-gradient(135deg, #2196f3 0%, #1976d2 100%);
          box-shadow: 0 2px 6px rgba(33, 150, 243, 0.3);
        }

        .event-indicator-green {
          background: linear-gradient(135deg, #4caf50 0%, #388e3c 100%);
          box-shadow: 0 2px 6px rgba(76, 175, 80, 0.3);
        }

        .event-indicator-red {
          background: linear-gradient(135deg, #f44336 0%, #d32f2f 100%);
          box-shadow: 0 2px 6px rgba(244, 67, 54, 0.3);
        }

        .event-indicator-purple {
          background: linear-gradient(135deg, #9c27b0 0%, #7b1fa2 100%);
          box-shadow: 0 2px 6px rgba(156, 39, 176, 0.3);
        }

        .event-indicator-orange {
          background: linear-gradient(135deg, #ff9800 0%, #f57c00 100%);
          box-shadow: 0 2px 6px rgba(255, 152, 0, 0.3);
        }

        .event-indicator-pink {
          background: linear-gradient(135deg, #e91e63 0%, #c2185b 100%);
          box-shadow: 0 2px 6px rgba(233, 30, 99, 0.3);
        }

        .calendar-date.today .event-indicator {
          border: 2px solid white;
        }

        /* Event Details Panel */
        .event-item {
          background: #f8f9fa;
          border-radius: 8px;
          padding: 12px;
          margin-bottom: 8px;
          border-left: 4px solid #2196f3;
        }

        /* Event Color Variations */
        .event-item.event-color-blue {
          border-left-color: #2196f3;
          background: linear-gradient(135deg, #e3f2fd 0%, #f3e5f5 100%);
        }

        .event-item.event-color-green {
          border-left-color: #4caf50;
          background: linear-gradient(135deg, #e8f5e8 0%, #f1f8e9 100%);
        }

        .event-item.event-color-red {
          border-left-color: #f44336;
          background: linear-gradient(135deg, #ffebee 0%, #fce4ec 100%);
        }

        .event-item.event-color-purple {
          border-left-color: #9c27b0;
          background: linear-gradient(135deg, #f3e5f5 0%, #fce4ec 100%);
        }

        .event-item.event-color-orange {
          border-left-color: #ff9800;
          background: linear-gradient(135deg, #fff3e0 0%, #fce4ec 100%);
        }

        .event-item.event-color-pink {
          border-left-color: #e91e63;
          background: linear-gradient(135deg, #fce4ec 0%, #f3e5f5 100%);
        }

        .event-title {
          font-weight: 600;
          color: #333;
          margin-bottom: 4px;
        }

        .event-time {
          color: #666;
          font-size: 0.9em;
          margin-bottom: 4px;
        }

        .event-description {
          color: #555;
          font-size: 0.9em;
          margin-bottom: 4px;
        }

        .event-type {
          display: inline-block;
          background: #e3f2fd;
          color: #1976d2;
          padding: 2px 8px;
          border-radius: 12px;
          font-size: 0.8em;
          text-transform: capitalize;
        }

        /* Event Type Color Variations */
        .event-type-blue {
          background: #e3f2fd;
          color: #1976d2;
        }

        .event-type-green {
          background: #e8f5e8;
          color: #2e7d32;
        }

        .event-type-red {
          background: #ffebee;
          color: #c62828;
        }

        .event-type-purple {
          background: #f3e5f5;
          color: #7b1fa2;
        }

        .event-type-orange {
          background: #fff3e0;
          color: #ef6c00;
        }

        .event-type-pink {
          background: #fce4ec;
          color: #c2185b;
        }

        .event-header {
          display: flex;
          justify-content: space-between;
          align-items: flex-start;
          margin-bottom: 8px;
        }

        .event-actions {
          display: flex;
          gap: 4px;
          opacity: 0;
          transition: opacity 0.2s ease;
        }

        .event-item:hover .event-actions {
          opacity: 1;
        }

        .btn-icon {
          background: none;
          border: none;
          padding: 4px 6px;
          border-radius: 4px;
          cursor: pointer;
          font-size: 12px;
          transition: all 0.2s ease;
        }

        .btn-icon.edit-btn {
          color: #0984e3;
        }

        .btn-icon.edit-btn:hover {
          background: #e3f2fd;
          color: #0652dd;
        }

        .btn-icon.delete-btn {
          color: #e17055;
        }

        .btn-icon.delete-btn:hover {
          background: #ffeaa7;
          color: #d63031;
        }

        /* CGPA Analysis Modal Styles */
        .modal-xl {
          max-width: 95vw;
          width: 95vw;
        }

        .cgpa-summary-cards {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
          gap: 20px;
          margin-bottom: 30px;
        }

        .summary-card {
          background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
          border-radius: 12px;
          padding: 20px;
          display: flex;
          align-items: center;
          gap: 16px;
          border-left: 4px solid #6c5ce7;
          box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .summary-card.primary {
          border-left-color: #6c5ce7;
          background: linear-gradient(135deg, #e3f2fd 0%, #f3e5f5 100%);
        }

        .summary-card.success {
          border-left-color: #00b894;
          background: linear-gradient(135deg, #e8f5e8 0%, #f1f8e9 100%);
        }

        .summary-card.info {
          border-left-color: #0984e3;
          background: linear-gradient(135deg, #e3f2fd 0%, #f8f9fa 100%);
        }

        .summary-icon {
          font-size: 2rem;
          opacity: 0.8;
        }

        .summary-value {
          font-size: 2rem;
          font-weight: 700;
          color: #2d3436;
          line-height: 1;
        }

        .summary-label {
          font-size: 0.9rem;
          color: #636e72;
          margin-top: 4px;
        }

        .summary-scale {
          font-size: 0.8rem;
          color: #74b9ff;
          font-weight: 500;
        }

        .scale-conversions {
          margin-bottom: 30px;
        }

        .scale-conversions h6 {
          color: #2d3436;
          margin-bottom: 16px;
          font-weight: 600;
        }

        .conversion-cards {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
          gap: 16px;
        }

        .conversion-card {
          background: white;
          border-radius: 8px;
          padding: 16px;
          text-align: center;
          border: 2px solid #e9ecef;
          transition: all 0.3s ease;
        }

        .conversion-card:hover {
          border-color: #6c5ce7;
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(108, 92, 231, 0.15);
        }

        .conversion-value {
          font-size: 1.5rem;
          font-weight: 700;
          color: #6c5ce7;
          margin-bottom: 8px;
        }

        .conversion-label {
          font-size: 0.9rem;
          color: #2d3436;
          font-weight: 600;
          margin-bottom: 4px;
        }

        .conversion-formula {
          font-size: 0.75rem;
          color: #636e72;
          font-style: italic;
        }

        .charts-section {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 30px;
          margin-bottom: 30px;
        }

        .chart-container {
          background: white;
          border-radius: 12px;
          padding: 20px;
          border: 1px solid #e9ecef;
        }

        .chart-container h6 {
          color: #2d3436;
          margin-bottom: 16px;
          font-weight: 600;
        }

        .semester-details {
          background: white;
          border-radius: 12px;
          padding: 20px;
          border: 1px solid #e9ecef;
        }

        .semester-details h6 {
          color: #2d3436;
          margin-bottom: 16px;
          font-weight: 600;
        }

        .table-responsive {
          border-radius: 8px;
          overflow: hidden;
        }

        .table {
          margin-bottom: 0;
        }

        .table th {
          background: #f8f9fa;
          color: #2d3436;
          font-weight: 600;
          border: none;
          padding: 12px;
        }

        .table td {
          padding: 12px;
          border-color: #e9ecef;
        }

        .performance-badge {
          display: inline-block;
          padding: 4px 8px;
          border-radius: 12px;
          font-size: 0.75rem;
          font-weight: 600;
          text-transform: uppercase;
        }

        .performance-excellent {
          background: #d1f2eb;
          color: #00b894;
        }

        .performance-good {
          background: #e3f2fd;
          color: #0984e3;
        }

        .performance-average {
          background: #fff3e0;
          color: #ff9800;
        }

        .performance-poor {
          background: #ffebee;
          color: #f44336;
        }

        /* Clickable History Cards */
        .history-card.clickable {
          cursor: pointer;
          transition: all 0.3s ease;
          position: relative;
          overflow: hidden;
        }

        .history-card.clickable:hover {
          transform: translateY(-4px);
          box-shadow: 0 8px 25px rgba(0,0,0,0.15);
          border-color: #6c5ce7;
        }

        .history-card.clickable::before {
          content: '';
          position: absolute;
          top: 0;
          left: -100%;
          width: 100%;
          height: 100%;
          background: linear-gradient(90deg, transparent, rgba(108, 92, 231, 0.1), transparent);
          transition: left 0.5s ease;
        }

        .history-card.clickable:hover::before {
          left: 100%;
        }

        .click-hint {
          margin-top: 8px;
          padding: 6px 8px;
          background: linear-gradient(135deg, #6c5ce7 0%, #a29bfe 100%);
          color: white;
          border-radius: 6px;
          font-size: 0.75rem;
          text-align: center;
          opacity: 0;
          transform: translateY(10px);
          transition: all 0.3s ease;
        }

        .history-card.clickable:hover .click-hint {
          opacity: 1;
          transform: translateY(0);
        }

        .click-hint i {
          margin-right: 4px;
        }

        /* Semester Header */
        .semester-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 16px;
        }

        .semester-header h6 {
          margin: 0;
        }

        /* Add Semester Modal Styles */
        .semester-preview {
          margin-top: 20px;
          padding: 16px;
          background: #f8f9fa;
          border-radius: 8px;
          border-left: 4px solid #6c5ce7;
        }

        .semester-preview h6 {
          margin-bottom: 12px;
          color: #2d3436;
        }

        .preview-card {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 12px;
        }

        .preview-item {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 8px 12px;
          background: white;
          border-radius: 6px;
          border: 1px solid #e9ecef;
        }

        .preview-label {
          font-weight: 600;
          color: #636e72;
          font-size: 0.9rem;
        }

        .preview-value {
          font-weight: 700;
          color: #2d3436;
        }

        /* Chart container improvements */
        .chart-container canvas {
          max-height: 300px;
        }

        /* Mobile responsive for semester header */
        @media (max-width: 768px) {
          .semester-header {
            flex-direction: column;
            align-items: flex-start;
            gap: 12px;
          }

          .semester-header .btn {
            width: 100%;
          }

          .preview-card {
            grid-template-columns: 1fr;
          }
        }

        @keyframes modernFloat {
          0%, 100% { transform: translateY(0px) rotate(0deg); }
          33% { transform: translateY(-10px) rotate(1deg); }
          66% { transform: translateY(5px) rotate(-1deg); }
        }

        .shimmer {
          position: relative;
          overflow: hidden;
        }

        .shimmer::before {
          content: '';
          position: absolute;
          top: 0;
          left: -100%;
          width: 100%;
          height: 100%;
          background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
          animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
          0% { left: -100%; }
          100% { left: 100%; }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
          .dashboard-container {
            padding: 12px;
          }

          .header-content {
            flex-direction: column;
            text-align: center;
          }

          .modern-clock-container {
            order: -1;
            margin-bottom: 16px;
            margin-right: 0;
          }

          .modern-flip-clock {
            padding: 12px 16px;
          }

          .flip-digit {
            width: 28px;
            height: 38px;
          }

          .flip-digit-front, .flip-digit-back {
            font-size: 1.2rem;
          }

          .time-separator {
            font-size: 1.4rem;
            margin: 0 4px;
          }

          .am-pm-indicator {
            padding: 6px 8px;
            font-size: 0.8rem;
            margin-left: 6px;
          }

          .clock-details {
            font-size: 0.7rem;
          }

          .dashboard-title {
            font-size: 1.5rem;
          }

          .tab-navigation {
            flex-direction: column;
          }

          .tab-btn {
            min-width: auto;
          }

          .calculator-grid {
            grid-template-columns: 1fr;
          }

          .semester-inputs {
            grid-template-columns: 1fr;
          }

          .input-row {
            grid-template-columns: 1fr;
          }

          .gpa-scales {
            grid-template-columns: 1fr;
          }

          .holidays-grid {
            grid-template-columns: 1fr;
          }

          .history-grid {
            grid-template-columns: 1fr;
          }

          .action-buttons {
            flex-direction: column;
          }

          .form-row {
            grid-template-columns: 1fr;
          }

          .modal-actions {
            flex-direction: column;
          }

          #flashMessages {
            left: 12px;
            right: 12px;
          }

          .flash-message {
            min-width: auto;
          }
        }

        /* Enhanced Mobile Styles for Better UX */
        @media (max-width: 768px) {
          /* Navigation improvements */
          .nav-tabs {
            flex-wrap: wrap;
            justify-content: center;
            border-bottom: none;
            background: #f8f9fa;
            border-radius: 12px;
            padding: 4px;
            margin-bottom: 16px;
          }

          .nav-tabs .nav-link {
            font-size: 0.8rem;
            padding: 8px 12px;
            margin: 2px;
            border-radius: 8px;
            border: none;
            min-width: auto;
            flex: 1;
            text-align: center;
          }

          .nav-tabs .nav-link.active {
            background: var(--primary-gradient);
            color: white;
            border: none;
          }

          /* Form improvements for mobile */
          .form-control {
            font-size: 16px; /* Prevents zoom on iOS */
            padding: 12px;
            border-radius: 8px;
          }

          .btn {
            padding: 12px 16px;
            font-size: 0.9rem;
            min-height: 44px; /* Touch-friendly */
            border-radius: 8px;
          }

          /* Modal improvements for mobile */
          .modal-dialog {
            margin: 8px;
            max-width: calc(100vw - 16px);
          }

          .modal-content {
            border-radius: 12px;
          }

          .modal-header {
            padding: 16px;
            border-bottom: 1px solid #e9ecef;
          }

          .modal-body {
            padding: 16px;
            max-height: calc(100vh - 200px);
            overflow-y: auto;
          }

          .modal-footer {
            padding: 16px;
            flex-direction: column;
            gap: 8px;
            border-top: 1px solid #e9ecef;
          }

          .modal-footer .btn {
            width: 100%;
            margin: 0;
          }

          /* Reminder cards mobile optimization */
          .reminder-card {
            margin-bottom: 12px;
            padding: 12px;
            border-radius: 12px;
          }

          .reminder-header {
            flex-direction: column;
            align-items: flex-start;
            gap: 8px;
          }

          .reminder-title {
            font-size: 1rem;
            line-height: 1.3;
          }

          .reminder-actions {
            width: 100%;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 8px;
          }

          .reminder-actions .btn {
            font-size: 0.8rem;
            padding: 6px 12px;
            min-height: 36px;
          }

          /* Calendar mobile improvements */
          .calendar-date {
            min-height: 60px;
            padding: 6px;
            font-size: 0.9rem;
          }

          .date-number {
            font-size: 14px;
          }

          .event-indicator {
            min-width: 16px;
            height: 16px;
            font-size: 10px;
            bottom: 2px;
            right: 2px;
          }

          /* Event details panel mobile */
          .event-item {
            padding: 10px;
            margin-bottom: 8px;
          }

          .event-title {
            font-size: 0.9rem;
          }

          .event-actions .btn-icon {
            padding: 6px;
            font-size: 11px;
          }

          /* CGPA Analysis Modal Mobile */
          .modal-xl {
            max-width: 100vw;
            width: 100vw;
            margin: 0;
          }

          .cgpa-summary-cards {
            grid-template-columns: 1fr;
            gap: 12px;
          }

          .summary-card {
            padding: 16px;
            gap: 12px;
          }

          .summary-icon {
            font-size: 1.5rem;
          }

          .summary-value {
            font-size: 1.5rem;
          }

          .conversion-cards {
            grid-template-columns: 1fr;
            gap: 12px;
          }

          .charts-section {
            grid-template-columns: 1fr;
            gap: 20px;
          }

          .chart-container {
            padding: 16px;
          }

          .semester-details {
            padding: 16px;
          }

          .table th,
          .table td {
            padding: 8px 4px;
            font-size: 0.8rem;
          }
        }

        @media (max-width: 480px) {
          .dashboard-title {
            font-size: 1.3rem;
          }

          .tab-content {
            padding: 12px;
          }

          .card-content {
            padding: 12px;
          }

          .cgpa-value,
          .attendance-percentage {
            font-size: 1.8rem;
          }

          /* Ultra-small screen optimizations */
          .modern-flip-clock {
            transform: scale(0.8);
          }

          .nav-tabs .nav-link {
            font-size: 0.75rem;
            padding: 6px 8px;
          }

          .reminder-card {
            padding: 10px;
          }

          .calendar-date {
            min-height: 50px;
            padding: 4px;
          }

          .date-number {
            font-size: 12px;
          }

          .event-indicator {
            min-width: 14px;
            height: 14px;
            font-size: 9px;
          }

          .modal-content {
            margin: 10px;
          }

          /* Reminder responsive styles */
          .form-grid {
            grid-template-columns: 1fr;
            gap: 16px;
          }

          .reminders-grid {
            grid-template-columns: 1fr;
          }

          .reminder-footer {
            flex-direction: column;
            align-items: flex-start;
            gap: 8px;
          }

          .button-group {
            flex-direction: column;
          }

          .section-header {
            flex-direction: column;
            align-items: flex-start;
            gap: 12px;
          }

          .reminders-header h2 {
            font-size: 1.8rem;
          }

          .card-content {
            padding: 16px;
          }

          .card-header {
            padding: 16px;
          }
        }

        /* Calendar Grid Styles */
        .calendar-weekdays {
          display: grid !important;
          grid-template-columns: repeat(7, 1fr) !important;
          gap: 0 !important;
          margin-bottom: 0;
          border: 1px solid #e9ecef;
          border-bottom: none;
        }

        .calendar-weekdays {
          display: grid;
          grid-template-columns: repeat(7, 1fr);
          gap: 2px;
          background: #f1f3f4;
          padding: 2px 2px 0 2px;
          border-radius: 12px 12px 0 0;
        }

        .weekday {
          background: linear-gradient(135deg, #74b9ff 0%, #0984e3 100%);
          padding: 12px 8px;
          text-align: center;
          font-weight: 600;
          color: white;
          font-size: 0.9rem;
          border-radius: 8px 8px 0 0;
        }

        .calendar-dates-grid {
          display: grid !important;
          grid-template-columns: repeat(7, 1fr) !important;
          gap: 2px !important;
          background: #f1f3f4;
          padding: 2px;
          border-radius: 0 0 12px 12px;
          width: 100%;
          max-width: 100%;
        }

        .calendar-date {
          background: white;
          min-height: 120px;
          border-right: 1px solid #e9ecef;
          border-bottom: 1px solid #e9ecef;
          padding: 8px;
          position: relative;
          cursor: pointer;
          transition: background-color 0.2s;
        }

        .calendar-date:hover {
          background-color: #f8f9fa;
        }

        .calendar-date:last-child {
          border-right: none;
        }

        .date-number {
          font-weight: 600;
          font-size: 1.1rem;
          color: #333;
          margin-bottom: 4px;
        }

        .other-month {
          color: #ccc !important;
          background-color: #f8f9fa !important;
        }

        .other-month .date-number {
          color: #ccc !important;
          font-weight: 400 !important;
        }

        .today {
          background-color: #e3f2fd;
          border: 2px solid #2196f3;
        }

        .today .date-number {
          color: #1976d2;
          font-weight: 700;
        }

        .has-event {
          background-color: #fff3e0;
        }

        .event-indicator {
          position: absolute;
          bottom: 4px;
          left: 4px;
          right: 4px;
          background: #ff9800;
          color: white;
          font-size: 0.7rem;
          padding: 2px 4px;
          border-radius: 3px;
          text-align: center;
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
        }

        /* Mode Button Styling */
        .mode-buttons {
          display: flex;
          gap: 0;
          border-radius: 8px;
          overflow: hidden;
          box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .mode-btn {
          background: white;
          border: 1px solid #dee2e6;
          padding: 12px 20px;
          font-weight: 500;
          color: #495057;
          transition: all 0.2s ease;
          border-radius: 0;
          position: relative;
        }

        .mode-btn:first-child {
          border-top-left-radius: 8px;
          border-bottom-left-radius: 8px;
        }

        .mode-btn:last-child {
          border-top-right-radius: 8px;
          border-bottom-right-radius: 8px;
          border-left: none;
        }

        .mode-btn:hover {
          background: #f8f9fa;
          color: #495057;
          transform: translateY(-1px);
          box-shadow: 0 4px 8px rgba(0,0,0,0.15);
        }

        .mode-btn.active {
          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
          color: white;
          border-color: #667eea;
          box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }

        .mode-btn.active:hover {
          background: linear-gradient(135deg, #5a6fd8 0%, #6a4190 100%);
          transform: translateY(-1px);
          box-shadow: 0 6px 16px rgba(102, 126, 234, 0.4);
        }

        .mode-btn i {
          margin-right: 8px;
        }

        @media (max-width: 768px) {
          .calendar-dates-grid {
            grid-template-columns: repeat(7, 1fr) !important;
          }

          .calendar-date {
            min-height: 80px;
            padding: 4px;
          }

          .date-number {
            font-size: 1rem;
          }

          .mode-btn {
            padding: 10px 16px;
            font-size: 0.9rem;
          }
        }
    </style>
</head>
<body>
    <div class="dashboard-container">
        <!-- Header -->
        <header class="dashboard-header">
            <div class="header-content">
                <div class="header-left">
                    <h1 class="dashboard-title"> Academia </h1>
                    <h2 class  = "dashboard-subtitle">Where Knowledge Meets Convenience</h2>
                    <p class="dashboard-subtitle">Welcome, {{ session.student_name or session.username }}!</p>
                </div>
                <div class="header-right">
                    <!-- Modern Flip Clock -->
                    <div class="modern-clock-container">
                        <div class="modern-flip-clock">
                            <div class="time-display">
                                <div class="flip-digit-group">
                                    <div class="flip-digit" id="hour1">
                                        <div class="flip-digit-inner">
                                            <div class="flip-digit-front">0</div>
                                            <div class="flip-digit-back">0</div>
                                        </div>
                                    </div>
                                    <div class="flip-digit" id="hour2">
                                        <div class="flip-digit-inner">
                                            <div class="flip-digit-front">0</div>
                                            <div class="flip-digit-back">0</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="time-separator">:</div>
                                <div class="flip-digit-group">
                                    <div class="flip-digit" id="minute1">
                                        <div class="flip-digit-inner">
                                            <div class="flip-digit-front">0</div>
                                            <div class="flip-digit-back">0</div>
                                        </div>
                                    </div>
                                    <div class="flip-digit" id="minute2">
                                        <div class="flip-digit-inner">
                                            <div class="flip-digit-front">0</div>
                                            <div class="flip-digit-back">0</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="time-separator">:</div>
                                <div class="flip-digit-group">
                                    <div class="flip-digit" id="second1">
                                        <div class="flip-digit-inner">
                                            <div class="flip-digit-front">0</div>
                                            <div class="flip-digit-back">0</div>
                                        </div>
                                    </div>
                                    <div class="flip-digit" id="second2">
                                        <div class="flip-digit-inner">
                                            <div class="flip-digit-front">0</div>
                                            <div class="flip-digit-back">0</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="am-pm-indicator" id="amPmIndicator">AM</div>
                            </div>
                            <div class="clock-details">
                                <div class="timezone-info" id="timezoneInfo">Loading...</div>
                                <div class="date-info" id="dateInfo">Loading...</div>
                            </div>
                        </div>
                    </div>

                    <!-- Clock and Countdown Stack -->
                    <div class="clock-countdown-stack">
                        <!-- Exam Countdown Display -->
                        <div id="examCountdown" class="exam-countdown" style="display: none;">
                            <div class="countdown-content">
                                <div class="countdown-title">Next Exam</div>
                                <div class="countdown-subject" id="countdownSubject"></div>
                                <div class="countdown-timer" id="countdownTimer"></div>
                            </div>
                        </div>
                    </div>

                    <!-- Theme and Logout Stack -->
                    <div class="theme-logout-stack">
                        <!-- Theme Toggle -->
                        <button class="theme-toggle-btn" onclick="toggleTheme()" type="button" title="Toggle Dark/Light Theme">
                            <i class="fas fa-moon" id="themeIcon"></i>
                        </button>

                        <a href="{{ url_for('logout') }}" class="logout-btn">
                            <i class="fas fa-sign-out-alt"></i> Logout
                        </a>

                        <!-- Test Countdown Button (Development) -->
                        <button class="btn btn-sm btn-info" onclick="loadExamCountdown()" type="button" style="background: #17a2b8; color: white; padding: 8px 12px; border: none; border-radius: 8px; margin-top: 8px;" title="Test Countdown">
                            <i class="fas fa-stopwatch"></i> Test
                        </button>
                    </div>
                </div>
            </div>
        </header>

        <!-- Navigation Tabs -->
        <nav class="tab-navigation">
            <button class="tab-btn active" data-tab="reminders" type="button">
                <i class="fas fa-bell"></i> Smart Reminders
            </button>
            <button class="tab-btn" data-tab="cgpa" type="button">
                <i class="fas fa-calculator"></i> CGPA Calculator
            </button>
            <button class="tab-btn" data-tab="attendance" type="button">
                <i class="fas fa-book-open"></i> Attendance
            </button>
            <button class="tab-btn" data-tab="holidays" type="button">
                <i class="fas fa-calendar"></i> Calendar
            </button>
            <button class="tab-btn" data-tab="history" type="button">
                <i class="fas fa-history"></i> History
            </button>
            <button class="tab-btn" data-tab="timetable" type="button">
                <i class="fas fa-clock"></i> Timetable
            </button>
        </nav>

        <!-- Tab Contents -->
        <main class="tab-content">
            <!-- Smart Reminders Tab -->
            <div id="reminders" class="tab-pane active">
                <div class="reminders-header">
                    <h2><i class="fas fa-bell"></i> Smart Student Reminder System</h2>
                    <p class="feature-description">Paste messages from WhatsApp, emails, or any text to automatically create smart reminders!</p>
                </div>

                <!-- Message Input Section -->
                <div class="message-input-section">
                    <div class="input-card">
                        <div class="card-header">
                            <h3><i class="fas fa-paste"></i> Paste Your Message</h3>
                            <p>Copy and paste messages from WhatsApp, emails, or any text containing assignment/exam information</p>
                        </div>
                        <div class="card-content">
                            <div class="input-group">
                                <label for="messageInput">Message Text</label>
                                <textarea id="messageInput" placeholder="Paste your message here...

Example:
'Hi students, your Data Structures assignment is due on 20th July 2025. Please submit before 11:59 PM.'

or

'Reminder: Machine Learning exam on 25/07/2025 at 10:00 AM in Hall A.'" rows="6"></textarea>
                            </div>
                            <div class="button-group">
                                <button onclick="parseMessage()" class="btn btn-primary" type="button">
                                    <i class="fas fa-magic"></i> Parse Message
                                </button>
                                <button onclick="clearMessage()" class="btn btn-secondary" type="button">
                                    <i class="fas fa-eraser"></i> Clear
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Manual Reminder Form -->
                <div class="reminder-form-section">
                    <div class="input-card">
                        <div class="card-header">
                            <h3><i class="fas fa-edit"></i> Create Reminder</h3>
                            <p>Review parsed information or create a reminder manually</p>
                        </div>
                        <div class="card-content">
                            <div class="form-grid">
                                <div class="input-group">
                                    <label for="reminderTitle">Title *</label>
                                    <input type="text" id="reminderTitle" placeholder="e.g., Data Structures Assignment" required>
                                </div>
                                <div class="input-group">
                                    <label for="reminderType">Type</label>
                                    <select id="reminderType">
                                        <option value="assignment"> Assignment</option>
                                        <option value="exam"> Exam</option>
                                        <option value="project"> Project</option>
                                        <option value="lab"> Lab</option>
                                    </select>
                                </div>
                                <div class="input-group">
                                    <label for="reminderDate">Due Date</label>
                                    <input type="date" id="reminderDate">
                                </div>
                                <div class="time-description-row">
                                    <div class="input-group">
                                        <label for="reminderTime"> Time (Optional)</label>
                                        <div class="time-input-container">
                                            <select id="reminderTimeHour" class="time-select">
                                                <option value="">Hr</option>
                                                <option value="1">1</option>
                                                <option value="2">2</option>
                                                <option value="3">3</option>
                                                <option value="4">4</option>
                                                <option value="5">5</option>
                                                <option value="6">6</option>
                                                <option value="7">7</option>
                                                <option value="8">8</option>
                                                <option value="9">9</option>
                                                <option value="10">10</option>
                                                <option value="11">11</option>
                                                <option value="12">12</option>
                                            </select>
                                            <span class="time-separator">:</span>
                                            <select id="reminderTimeMinute" class="time-select">
                                                <option value="">Min</option>
                                                <option value="00">00</option>
                                                <option value="15">15</option>
                                                <option value="30">30</option>
                                                <option value="45">45</option>
                                                <option value="59">59</option>
                                            </select>
                                            <select id="reminderTimeAmPm" class="time-select">
                                                <option value="">AM/PM</option>
                                                <option value="AM">AM</option>
                                                <option value="PM">PM</option>
                                            </select>
                                        </div>
                                        <input type="hidden" id="reminderTime">
                                        <small class="input-help">Leave empty for default time</small>
                                    </div>
                                    <div class="input-group description-group">
                                        <label for="reminderDescription">Description</label>
                                        <textarea id="reminderDescription" placeholder="Additional details about the reminder..." rows="3"></textarea>
                                    </div>
                                </div>
                            </div>
                            <div class="button-group">
                                <button onclick="saveReminder()" class="btn btn-success" type="button">
                                    <i class="fas fa-save"></i> Save Reminder
                                </button>
                                <button onclick="resetReminderForm()" class="btn btn-secondary" type="button">
                                    <i class="fas fa-undo"></i> Reset Form
                                </button>
                                <button onclick="cleanupDuplicateReminders()" class="btn btn-warning" type="button">
                                    <i class="fas fa-broom"></i> Remove Duplicates
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Email Settings Section -->
                <div class="email-settings-section">
                    <div class="settings-header" onclick="toggleEmailSettings()">
                        <h3><i class="fas fa-envelope"></i> Email Notifications</h3>
                        <button type="button" class="toggle-btn">
                            <i class="fas fa-chevron-down"></i>
                        </button>
                    </div>
                    <div id="emailSettingsContent" class="settings-content" style="display: none;">
                        <div class="settings-card">
                            <div class="setting-item">
                                <label class="switch">
                                    <input type="checkbox" id="emailEnabled">
                                    <span class="slider"></span>
                                </label>
                                <div class="setting-info">
                                    <div class="setting-title">Enable Email Reminders</div>
                                    <div class="setting-description">Receive email notifications for upcoming deadlines</div>
                                </div>
                            </div>

                            <div id="emailOptions" style="display: none;">
                                <div class="input-group">
                                    <label for="emailAddress">Email Address</label>
                                    <input type="email" id="emailAddress" placeholder="your.email@example.com">
                                </div>

                                <div class="notification-options">
                                    <h4>Notification Timing</h4>
                                    <div class="option-grid">
                                        <label class="checkbox-label">
                                            <input type="checkbox" id="notify24h" checked>
                                            <span class="checkmark"></span>
                                            24 hours before due date
                                        </label>
                                        <label class="checkbox-label">
                                            <input type="checkbox" id="notify1h" checked>
                                            <span class="checkmark"></span>
                                            1 hour before due date
                                        </label>
                                        <label class="checkbox-label">
                                            <input type="checkbox" id="notifyOverdue" checked>
                                            <span class="checkmark"></span>
                                            When overdue
                                        </label>
                                    </div>
                                </div>

                                <div class="settings-actions">
                                    <button onclick="saveEmailSettings()" class="btn btn-success" type="button">
                                        <i class="fas fa-save"></i> Save Settings
                                    </button>
                                    <button onclick="sendTestEmail()" class="btn btn-secondary" type="button">
                                        <i class="fas fa-paper-plane"></i> Send Test Email
                                    </button>
                                    <button onclick="checkEmailNotifications()" class="btn btn-warning" type="button">
                                        <i class="fas fa-bell"></i> Check Email Notifications
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Reminders Display -->
                <div class="reminders-display-section">
                    <!-- Filter Options -->
                    <div class="reminder-filters">
                        <div class="filter-group">
                            <label for="categoryFilter">Category:</label>
                            <select id="categoryFilter" onchange="applyFilters()">
                                <option value="all">All</option>
                                <option value="assignment"> Assignment</option>
                                <option value="exam"> Exam</option>
                                <option value="project"> Project</option>
                                <option value="lab"> Lab</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <label for="priorityFilter">Priority:</label>
                            <select id="priorityFilter" onchange="applyFilters()">
                                <option value="all">All</option>
                                <option value="critical"> Critical</option>
                                <option value="urgent"> Urgent</option>
                                <option value="overdue"> Overdue</option>
                                <option value="due_today"> Due Today</option>
                                <option value="due_tomorrow"> Due Tomorrow</option>
                                <option value="upcoming"> Upcoming</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <button id="clearFilters" onclick="clearAllFilters()" class="clear-filters-btn">
                                <i class="fas fa-times"></i> Clear Filters
                            </button>
                        </div>
                    </div>

                    <!-- Reminder Statistics -->
                    <div id="reminderStats" class="reminder-stats" style="display: none;">
                        <div class="stats-grid">
                            <div class="stat-item critical">
                                <div class="stat-number" id="criticalCount">0</div>
                                <div class="stat-label">Critical</div>
                            </div>
                            <div class="stat-item urgent">
                                <div class="stat-number" id="urgentCount">0</div>
                                <div class="stat-label">Urgent</div>
                            </div>
                            <div class="stat-item overdue">
                                <div class="stat-number" id="overdueCount">0</div>
                                <div class="stat-label">Overdue</div>
                            </div>
                            <div class="stat-item due-today">
                                <div class="stat-number" id="dueTodayCount">0</div>
                                <div class="stat-label">Due Today</div>
                            </div>
                            <div class="stat-item total">
                                <div class="stat-number" id="totalCount">0</div>
                                <div class="stat-label">Total</div>
                            </div>
                        </div>
                    </div>

                    <div class="section-header">
                        <h3><i class="fas fa-list"></i> Your Reminders</h3>
                        <div class="header-actions">
                            <button class="btn btn-secondary" onclick="fixReminderTimes()" title="Fix reminder times from descriptions">
                                <i class="fas fa-clock"></i> Fix Times
                            </button>
                            <div id="storageStatus" class="storage-status" title="LocalStorage backup status">
                                <i class="fas fa-database"></i>
                                <span id="storageStatusText">Checking...</span>
                            </div>
                            <button onclick="showStorageStatus()" class="btn btn-secondary" type="button" title="Show storage details">
                                <i class="fas fa-info-circle"></i>
                            </button>
                            <button onclick="loadReminders()" class="btn btn-primary" type="button">
                                <i class="fas fa-refresh"></i> Refresh
                            </button>
                        </div>
                    </div>
                    <div id="remindersContainer" class="reminders-grid">
                        <div class="empty-state">
                            <i class="fas fa-bell empty-icon"></i>
                            <p>No reminders yet. Create your first smart reminder above!</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- CGPA Calculator Tab -->
            <div id="cgpa" class="tab-pane">
                <div class="formula-info">
                    <strong>CGPA Formula:</strong> CGPA = (SGPA  Credits) / (Credits)
                </div>

                <div class="calculator-grid">
                    <div class="calculator-card">
                        <div class="card-header">
                            <h3> Enter Semester Details</h3>
                        </div>
                        <div class="card-content">
                            <div class="cgpa-scale-selector">
                                <div class="input-group">
                                    <label>CGPA Scale</label>
                                    <select id="cgpaScale" onchange="updateCGPAScale()">
                                        <option value="10">10 Point Scale (Indian Universities)</option>
                                        <option value="5">5 Point Scale (German System)</option>
                                        <option value="4">4 Point Scale (US GPA)</option>
                                    </select>
                                </div>
                                <div class="scale-info" id="scaleInfo">
                                    <small>Range: 0.0 - 10.0 | Excellent: 9.0+, Good: 7.0-8.9, Average: 6.0-6.9</small>
                                </div>
                            </div>

                            <div id="semesterContainer" class="semester-container">
                                <div class="semester-item" data-semester="1">
                                    <div class="semester-header">
                                        <span class="semester-title">Semester 1</span>
                                        <button class="remove-semester" onclick="removeSemester(1)" style="display: none;" type="button">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </div>
                                    <div class="semester-inputs">
                                        <div class="input-group">
                                            <label>SGPA</label>
                                            <input type="number" step="0.01" min="0" max="10" placeholder="e.g., 8.37" class="sgpa-input">
                                        </div>
                                        <div class="input-group">
                                            <label>Credits</label>
                                            <input type="number" min="0" placeholder="e.g., 23" class="credits-input">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="action-buttons">
                                <button onclick="addSemester()" class="btn btn-outline" type="button">
                                    <i class="fas fa-plus"></i> Add Semester
                                </button>
                                <button onclick="calculateCGPA()" class="btn btn-primary" type="button">
                                    <i class="fas fa-calculator"></i> Calculate CGPA
                                </button>
                                <button onclick="resetCGPA()" class="btn btn-outline" type="button">
                                    Reset
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="calculator-card">
                        <div class="card-header">
                            <h3> Results</h3>
                        </div>
                        <div class="card-content">
                            <div id="cgpaResults" class="results-container">
                                <div class="empty-state">
                                    <i class="fas fa-calculator empty-icon"></i>
                                    <p>Enter your semester details and click "Calculate CGPA" to see your results</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Attendance Tab -->
            <div id="attendance" class="tab-pane">
                <div class="formula-info">
                    <strong>Attendance Formula:</strong> Attendance % = (Classes Attended / Total Classes)  100
                </div>
                
                <div class="calculator-grid">
                    <div class="calculator-card">
                        <div class="card-header">
                            <h3> Attendance Details</h3>
                        </div>
                        <div class="card-content">
                            <div class="input-group">
                                <label>Subject Name</label>
                                <input type="text" id="subjectName" placeholder="e.g., Mathematics">
                            </div>
                            
                            <div class="input-row">
                                <div class="input-group">
                                    <label>Classes Attended</label>
                                    <input type="number" id="attendedClasses" min="0" placeholder="e.g., 45">
                                </div>
                                <div class="input-group">
                                    <label>Total Classes</label>
                                    <input type="number" id="totalClasses" min="1" placeholder="e.g., 60">
                                </div>
                            </div>
                            
                            <div class="input-group">
                                <label>Minimum Required Percentage</label>
                                <input type="number" id="minRequired" min="0" max="100" step="0.1" value="75">
                            </div>
                            
                            <div class="action-buttons">
                                <button onclick="calculateAttendance()" class="btn btn-primary" type="button">
                                    <i class="fas fa-chart-line"></i> Calculate
                                </button>
                                <button onclick="saveAttendanceRecord()" class="btn btn-success" type="button">
                                    <i class="fas fa-save"></i> Save Record
                                </button>
                                <button onclick="resetAttendance()" class="btn btn-outline" type="button">
                                    Reset
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="calculator-card">
                        <div class="card-header">
                            <h3> Attendance Status</h3>
                        </div>
                        <div class="card-content">
                            <div id="attendanceResults" class="results-container">
                                <div class="empty-state">
                                    <i class="fas fa-book-open empty-icon"></i>
                                    <p>Enter your attendance details to see your status and recommendations</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Calendar Tab -->
            <div id="holidays" class="tab-pane">
                <div class="calendar-header">
                    <h2> Calendar</h2>

                    <!-- Mode Selection -->
                    <div class="calendar-mode-selection">
                        <div class="mode-buttons">
                            <button onclick="switchCalendarMode('calendar')" id="calendarModeBtn" class="mode-btn active" type="button">
                                <i class="fas fa-calendar-alt"></i> Calendar
                            </button>
                            <button onclick="switchCalendarMode('holidays')" id="holidaysModeBtn" class="mode-btn" type="button">
                                <i class="fas fa-star"></i> Holidays
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Calendar Mode -->
                <div id="calendarMode" class="calendar-mode-content">
                    <!-- Calendar Header with Navigation and Add Event Button -->
                    <div class="calendar-header-row">
                        <div class="calendar-navigation">
                            <button onclick="previousMonth()" class="nav-btn" type="button">
                                <i class="fas fa-chevron-left"></i>
                            </button>
                            <div class="current-month-year">
                                <span id="currentMonthYear">July 2025</span>
                            </div>
                            <button onclick="nextMonth()" class="nav-btn" type="button">
                                <i class="fas fa-chevron-right"></i>
                            </button>
                        </div>

                        <div class="calendar-actions">
                            <button onclick="goToToday()" class="btn btn-secondary" type="button">
                                <i class="fas fa-calendar-day"></i> Today
                            </button>
                            <button onclick="openAddEventModal()" class="btn btn-primary" type="button">
                                <i class="fas fa-plus"></i> Add Event
                            </button>
                        </div>
                    </div>

                    <!-- Calendar Grid -->
                    <div class="calendar-view">
                        <div class="calendar-weekdays">
                            <div class="weekday">Sun</div>
                            <div class="weekday">Mon</div>
                            <div class="weekday">Tue</div>
                            <div class="weekday">Wed</div>
                            <div class="weekday">Thu</div>
                            <div class="weekday">Fri</div>
                            <div class="weekday">Sat</div>
                        </div>
                        <div id="calendarGrid" class="calendar-dates-grid">
                            <!-- Calendar dates will be generated here -->
                        </div>
                    </div>

                    <!-- Event Details Panel -->
                    <div id="eventDetailsPanel" class="event-details-panel" style="display: none;">
                        <div class="panel-header">
                            <h4 id="selectedDateTitle">Events for Selected Date</h4>
                            <button onclick="closeEventPanel()" class="close-btn" type="button">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                        <div id="eventsList" class="events-list">
                            <!-- Events for selected date will appear here -->
                        </div>
                        <div class="panel-actions">
                            <button onclick="openAddEventModal()" class="btn btn-success" type="button">
                                <i class="fas fa-plus"></i> Add Event
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Holidays Mode -->
                <div id="holidaysMode" class="calendar-mode-content" style="display: none;">
                    <div class="holidays-controls">
                        <div class="input-group" style="margin-right: 15px;">
                            <label>Year</label>
                            <select id="holidayYear" onchange="loadHolidaysList()">
                                <option value="2024">2024</option>
                                <option value="2025" selected>2025</option>
                                <option value="2026">2026</option>
                                <option value="2027">2027</option>
                            </select>
                        </div>
                        <div class="input-group" style="margin-right: 15px;">
                            <label>Type</label>
                            <select id="holidayType" onchange="loadHolidaysList()">
                                <option value="">All Types</option>
                                <option value="national">National</option>
                                <option value="state">State</option>
                                <option value="religious">Religious</option>
                                <option value="festival">Festival</option>
                            </select>
                        </div>
                        <button onclick="loadHolidaysList()" class="btn btn-primary" type="button">
                            <i class="fas fa-star"></i> Load Holidays
                        </button>
                    </div>

                    <div id="holidaysContainer" class="holidays-grid">
                        <div class="empty-state">
                            <i class="fas fa-star empty-icon"></i>
                            <p>Select a year and click "Load Holidays" to see holidays</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- History Tab -->
            <div id="history" class="tab-pane">
                <div class="history-container">
                    <div class="history-section">
                        <div class="section-header">
                            <h3><i class="fas fa-calculator"></i> CGPA Calculations</h3>
                            <button onclick="loadHistory()" class="btn btn-primary" type="button">
                                <i class="fas fa-history"></i> Load History
                            </button>
                        </div>
                        <div id="cgpaHistory" class="history-grid">
                            <div class="empty-state">
                                <i class="fas fa-calculator empty-icon"></i>
                                <p>Click "Load History" to see your CGPA calculations</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="history-section">
                        <div class="section-header">
                            <h3><i class="fas fa-book-open"></i> Attendance Records</h3>
                        </div>
                        <div id="attendanceHistory" class="history-grid">
                            <div class="empty-state">
                                <i class="fas fa-book-open empty-icon"></i>
                                <p>Your attendance records will appear here</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Timetable Tab -->
            <div id="timetable" class="tab-pane">
                <div class="timetable-container">
                    <!-- Timetable Header -->
                    <div class="timetable-header">
                        <div class="timetable-header-content">
                            <div class="timetable-header-left">
                                <div class="header-info">
                                    <h1 class="page-title"> My Timetable</h1>
                                    <p class="page-subtitle">{{ session.student_name or session.username }}</p>
                                </div>
                            </div>
                            <div class="timetable-header-right">
                                <!-- Timetable Type Toggle -->
                                <div class="timetable-toggle">
                                    <button class="toggle-btn active" id="normalTimetableBtn" onclick="switchTimetableType('normal')" type="button">
                                        <i class="fas fa-calendar-week"></i> Normal
                                    </button>
                                    <button class="toggle-btn" id="examTimetableBtn" onclick="switchTimetableType('exam')" type="button">
                                        <i class="fas fa-graduation-cap"></i> Exam
                                    </button>
                                </div>
                                <button class="add-btn" onclick="openAddModal()" type="button" id="addTimetableBtn">
                                    <i class="fas fa-plus"></i>
                                </button>
                            </div>
                        </div>

                        <!-- Test Countdown Buttons (only visible in exam mode) -->
                        <div class="countdown-test-buttons" id="countdownTestButtons" style="display: none; margin-top: 10px; padding: 10px; background: #f8f9fa; border-radius: 8px; border-left: 4px solid #007bff;">
                            <div style="margin-bottom: 8px; font-weight: 600; color: #495057;">
                                <i class="fas fa-flask"></i> Test Countdown (Development)
                            </div>
                            <div style="display: flex; gap: 8px; flex-wrap: wrap;">
                                <button class="btn btn-sm btn-success" onclick="addTestExamTomorrow()" type="button" title="Add exam tomorrow at 2 PM">
                                    <i class="fas fa-calendar-plus"></i> Tomorrow
                                </button>
                                <button class="btn btn-sm btn-warning" onclick="addTestExamUrgent()" type="button" title="Add exam in 2 hours">
                                    <i class="fas fa-clock"></i> 2 Hours
                                </button>
                                <button class="btn btn-sm btn-danger" onclick="addTestExamCritical()" type="button" title="Add exam in 30 minutes">
                                    <i class="fas fa-exclamation-triangle"></i> 30 Min
                                </button>
                                <button class="btn btn-sm btn-secondary" onclick="clearTestExams()" type="button" title="Clear test exams">
                                    <i class="fas fa-trash"></i> Clear
                                </button>
                                <button class="btn btn-sm btn-info" onclick="loadExamCountdown()" type="button" title="Refresh countdown">
                                    <i class="fas fa-sync"></i> Refresh
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Day Navigation -->
                    <div class="day-navigation">
                        <button class="nav-btn prev-btn" onclick="changeDay(-1)" type="button">
                            <i class="fas fa-chevron-left"></i>
                        </button>
                        
                        <div class="day-info">
                            <div class="day-name" id="currentDay">Monday</div>
                            <div class="day-date" id="currentDate">11 July</div>
                        </div>
                        
                        <button class="nav-btn next-btn" onclick="changeDay(1)" type="button">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>

                    <!-- Timetable Content -->
                    <div class="timetable-content">
                        <div id="scheduleContainer" class="schedule-container">
                            <!-- Schedule items will be loaded here -->
                            <div class="empty-schedule">
                                <i class="fas fa-calendar-plus empty-icon"></i>
                                <p>No classes scheduled for this day</p>
                                <button class="btn btn-primary" onclick="openAddModal()" type="button">
                                    <i class="fas fa-plus"></i> Add Class
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Add/Edit Modal -->
    <div id="addModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalTitle">Add New Class</h3>
                <button class="modal-close" onclick="closeAddModal()" type="button">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="classForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="startTime">Start Time</label>
                            <input type="time" id="startTime" required>
                        </div>
                        <div class="form-group">
                            <label for="endTime">End Time</label>
                            <input type="time" id="endTime" required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="subjectNameModal">Subject Name</label>
                        <input type="text" id="subjectNameModal" placeholder="e.g., Mathematics" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="teacherName">Teacher Name</label>
                        <input type="text" id="teacherName" placeholder="e.g., Dr. Smith">
                    </div>
                    
                    <div class="form-group">
                        <label for="roomNumber">Room/Location</label>
                        <input type="text" id="roomNumber" placeholder="e.g., Room 101">
                    </div>
                    
                    <div class="form-group">
                        <label for="classType">Class Type</label>
                        <select id="classType">
                            <option value="lecture">Lecture</option>
                            <option value="lab">Lab</option>
                            <option value="tutorial">Tutorial</option>
                            <option value="seminar">Seminar</option>
                            <option value="practical">Practical</option>
                        </select>
                    </div>
                    
                    <div class="modal-actions">
                        <button type="button" class="btn btn-outline" onclick="closeAddModal()">Cancel</button>
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-save"></i> Save Class
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Add/Edit Exam Modal -->
    <div id="examModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="examModalTitle">Add New Exam</h3>
                <button class="modal-close" onclick="closeExamModal()" type="button">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="examForm">
                    <div class="form-group">
                        <label for="examSubject">Subject</label>
                        <input type="text" id="examSubject" name="subject" required placeholder="Enter subject name">
                    </div>

                    <div class="form-group">
                        <label for="examDate">Exam Date</label>
                        <input type="date" id="examDate" name="date" required>
                    </div>

                    <div class="form-group">
                        <label for="examDay">Day</label>
                        <select id="examDay" name="day" required>
                            <option value="">Select Day</option>
                            <option value="Monday">Monday</option>
                            <option value="Tuesday">Tuesday</option>
                            <option value="Wednesday">Wednesday</option>
                            <option value="Thursday">Thursday</option>
                            <option value="Friday">Friday</option>
                            <option value="Saturday">Saturday</option>
                            <option value="Sunday">Sunday</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="examTime">Time</label>
                        <input type="time" id="examTime" name="time" required>
                    </div>

                    <div class="form-group">
                        <label for="examSession">Session</label>
                        <select id="examSession" name="session" required>
                            <option value="">Select Session</option>
                            <option value="FN">Forenoon (FN)</option>
                            <option value="AN">Afternoon (AN)</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="examLocation">Location (Optional)</label>
                        <input type="text" id="examLocation" name="location" placeholder="Exam hall/room">
                    </div>

                    <div class="modal-actions">
                        <button type="button" class="btn btn-outline" onclick="closeExamModal()">Cancel</button>
                        <button type="submit" class="btn btn-primary">
                            <i class="fas fa-save"></i> Save Exam
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Edit Reminder Modal -->
    <div id="editReminderModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Edit Reminder</h3>
                <button class="modal-close" onclick="closeEditReminderModal()" type="button">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="editReminderForm">
                    <div class="form-group">
                        <label for="editReminderTitle">Title *</label>
                        <input type="text" id="editReminderTitle" placeholder="e.g., Data Structures Assignment" required>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="editReminderType">Type</label>
                            <select id="editReminderType">
                                <option value="assignment"> Assignment</option>
                                <option value="exam"> Exam</option>
                                <option value="project"> Project</option>
                                <option value="lab"> Lab</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="editReminderDate">Due Date</label>
                            <input type="date" id="editReminderDate">
                        </div>
                        <div class="form-group">
                            <label for="editReminderTime"> Time (Optional)</label>
                            <div class="time-input-container">
                                <select id="editReminderTimeHour" class="time-select">
                                    <option value="">Hr</option>
                                    <option value="1">1</option>
                                    <option value="2">2</option>
                                    <option value="3">3</option>
                                    <option value="4">4</option>
                                    <option value="5">5</option>
                                    <option value="6">6</option>
                                    <option value="7">7</option>
                                    <option value="8">8</option>
                                    <option value="9">9</option>
                                    <option value="10">10</option>
                                    <option value="11">11</option>
                                    <option value="12">12</option>
                                </select>
                                <span class="time-separator">:</span>
                                <select id="editReminderTimeMinute" class="time-select">
                                    <option value="">Min</option>
                                    <option value="00">00</option>
                                    <option value="15">15</option>
                                    <option value="30">30</option>
                                    <option value="45">45</option>
                                    <option value="59">59</option>
                                </select>
                                <select id="editReminderTimeAmPm" class="time-select">
                                    <option value="">AM/PM</option>
                                    <option value="AM">AM</option>
                                    <option value="PM">PM</option>
                                </select>
                            </div>
                            <input type="hidden" id="editReminderTime">
                            <small class="input-help">Leave empty for default time</small>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="editReminderDescription">Description</label>
                        <textarea id="editReminderDescription" placeholder="Additional details about the reminder..." rows="4"></textarea>
                    </div>

                    <div class="modal-actions">
                        <button type="button" class="btn btn-outline" onclick="closeEditReminderModal()">Cancel</button>
                        <button type="submit" class="btn btn-success">
                            <i class="fas fa-save"></i> Update Reminder
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Add Event Modal -->
    <div id="addEventModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="addEventModalLabel"> Add Calendar Event</h3>
                <button class="modal-close" onclick="closeAddEventModal()" type="button">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="addEventForm">
                    <div class="form-group">
                        <label for="eventTitle">Event Title</label>
                        <input type="text" id="eventTitle" placeholder="e.g., Team Meeting" required>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="eventDate">Date</label>
                            <input type="date" id="eventDate" required>
                        </div>
                        <div class="form-group">
                            <label for="eventTime">Time (Optional)</label>
                            <input type="time" id="eventTime">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="eventType">Type</label>
                            <select id="eventType">
                                <option value="personal">Personal</option>
                                <option value="work">Work</option>
                                <option value="academic">Academic</option>
                                <option value="meeting">Meeting</option>
                                <option value="reminder">Reminder</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="eventColor">Color</label>
                            <select id="eventColor">
                                <option value="blue">Blue</option>
                                <option value="green">Green</option>
                                <option value="red">Red</option>
                                <option value="purple">Purple</option>
                                <option value="orange">Orange</option>
                                <option value="pink">Pink</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="eventDescription">Description (Optional)</label>
                        <textarea id="eventDescription" rows="3" placeholder="Event details..."></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button onclick="closeAddEventModal()" class="btn btn-secondary" type="button">Cancel</button>
                <button onclick="saveEvent()" class="btn btn-primary" type="button">
                    <i class="fas fa-save"></i> Save Event
                </button>
            </div>
        </div>
    </div>

    <!-- Flash Messages -->
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            <div id="flashMessages">
                {% for category, message in messages %}
                    <div class="flash-message flash-{{ category }}">
                        {{ message }}
                        <button onclick="this.parentElement.remove()" class="flash-close" type="button">&times;</button>
                    </div>
                {% endfor %}
            </div>
        {% endif %}
    {% endwith %}

    <!-- CGPA Analysis Modal -->
    <div id="cgpaAnalysisModal" class="modal">
        <div class="modal-content modal-xl">
            <div class="modal-header">
                <h3 id="cgpaAnalysisModalLabel"> CGPA Analysis & Trends</h3>
                <button class="modal-close" onclick="closeCGPAAnalysisModal()" type="button">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <!-- CGPA Summary Cards -->
                <div class="cgpa-summary-cards">
                    <div class="summary-card primary">
                        <div class="summary-icon"></div>
                        <div class="summary-content">
                            <div class="summary-value" id="analysisCGPA">-</div>
                            <div class="summary-label">Overall CGPA</div>
                            <div class="summary-scale" id="analysisScale">10.0 Scale</div>
                        </div>
                    </div>
                    <div class="summary-card success">
                        <div class="summary-icon"></div>
                        <div class="summary-content">
                            <div class="summary-value" id="analysisTotalCredits">-</div>
                            <div class="summary-label">Total Credits</div>
                            <div class="summary-scale" id="analysisSemesters">- Semesters</div>
                        </div>
                    </div>
                    <div class="summary-card info">
                        <div class="summary-icon"></div>
                        <div class="summary-content">
                            <div class="summary-value" id="analysisAvgSGPA">-</div>
                            <div class="summary-label">Average SGPA</div>
                            <div class="summary-scale" id="analysisGradePoints">- Grade Points</div>
                        </div>
                    </div>
                </div>

                <!-- Scale Conversions -->
                <div class="scale-conversions">
                    <h6><i class="fas fa-exchange-alt"></i> Scale Conversions</h6>
                    <div class="conversion-cards">
                        <div class="conversion-card">
                            <div class="conversion-value" id="analysis4Scale">-</div>
                            <div class="conversion-label">4.0 Scale (US)</div>
                            <div class="conversion-formula">Formula: (CGPA - 5)  4 / 5</div>
                        </div>
                        <div class="conversion-card">
                            <div class="conversion-value" id="analysis5Scale">-</div>
                            <div class="conversion-label">5.0 Scale</div>
                            <div class="conversion-formula">Formula: CGPA / 2</div>
                        </div>
                        <div class="conversion-card">
                            <div class="conversion-value" id="analysisPercentage">-</div>
                            <div class="conversion-label">Percentage</div>
                            <div class="conversion-formula">Formula: (CGPA - 0.5)  10</div>
                        </div>
                    </div>
                </div>

                <!-- Charts Section -->
                <div class="charts-section">
                    <div class="chart-container">
                        <h6><i class="fas fa-chart-bar"></i> SGPA vs Credits by Semester</h6>
                        <canvas id="sgpaCreditsChart" width="400" height="200"></canvas>
                    </div>
                    <div class="chart-container">
                        <h6><i class="fas fa-chart-line"></i> SGPA Trend Over Semesters</h6>
                        <canvas id="sgpaTrendChart" width="400" height="200"></canvas>
                        <div class="chart-legend" style="margin-top: 15px; text-align: center; font-size: 0.85rem;">
                            <div style="margin-bottom: 10px; font-weight: bold; color: #2d3436;">Performance Gradient</div>

                            <!-- Gradient Bar -->
                            <div style="margin: 10px auto; width: 200px; height: 8px; border-radius: 4px; background: linear-gradient(to right, #e74c3c 0%, #e7a53c 33%, #ffff96 66%, #00b894 100%); box-shadow: 0 2px 4px rgba(0,0,0,0.1);"></div>

                            <!-- Labels -->
                            <div style="display: flex; justify-content: space-between; width: 200px; margin: 5px auto; font-size: 0.75rem;">
                                <span style="color: #e74c3c; font-weight: bold;">Low</span>
                                <span style="color: #00b894; font-weight: bold;">High</span>
                            </div>

                            <!-- Performance Categories -->
                            <div style="display: flex; justify-content: center; align-items: center; gap: 12px; flex-wrap: wrap; margin-top: 10px;">
                                <span style="color: #e74c3c; font-size: 0.8rem;"> Needs Improvement</span>
                                <span style="color: #e7a53c; font-size: 0.8rem;"> Below Average</span>
                                <span style="color: #d4b000; font-size: 0.8rem; font-weight: bold;"> Good</span>
                                <span style="color: #00b894; font-size: 0.8rem;"> Excellent</span>
                            </div>

                            <div style="margin-top: 8px; font-size: 0.7rem; color: #636e72; font-style: italic;">
                                Colors automatically adjust based on your SGPA range
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Semester Details Table -->
                <div class="semester-details">
                    <div class="semester-header">
                        <h6><i class="fas fa-table"></i> Semester-wise Breakdown</h6>
                        <button type="button" class="btn btn-success btn-sm" onclick="openAddSemesterModal()">
                            <i class="fas fa-plus"></i> Add New Semester
                        </button>
                    </div>
                    <div class="table-responsive">
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th>Semester</th>
                                    <th>SGPA</th>
                                    <th>Credits</th>
                                    <th>Grade Points</th>
                                    <th>Performance</th>
                                </tr>
                            </thead>
                            <tbody id="semesterDetailsTable">
                                <!-- Semester data will be populated here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-outline" onclick="closeCGPAAnalysisModal()">Close</button>
                <button type="button" class="btn btn-primary" onclick="exportCGPAAnalysis()">
                    <i class="fas fa-download"></i> Export Analysis
                </button>
            </div>
        </div>
    </div>

    <!-- Add New Semester Modal -->
    <div id="addSemesterModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="addSemesterModalLabel"> Add New Semester Result</h3>
                <button class="modal-close" onclick="closeAddSemesterModal()" type="button">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="addSemesterForm">
                    <div class="form-group">
                        <label for="newSemesterName">Semester Name</label>
                        <input type="text" id="newSemesterName" placeholder="e.g., Semester 5" required>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="newSemesterSGPA">SGPA</label>
                            <input type="number" id="newSemesterSGPA" step="0.01" min="0" max="10" placeholder="e.g., 8.5" required>
                        </div>
                        <div class="form-group">
                            <label for="newSemesterCredits">Credits</label>
                            <input type="number" id="newSemesterCredits" step="1" min="1" placeholder="e.g., 20" required>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="newSemesterScale">Scale</label>
                        <select id="newSemesterScale">
                            <option value="10">10.0 Scale</option>
                            <option value="5">5.0 Scale</option>
                            <option value="4">4.0 Scale</option>
                        </select>
                    </div>

                    <div class="semester-preview" id="semesterPreview" style="display: none;">
                        <h6>Preview:</h6>
                        <div class="preview-card">
                            <div class="preview-item">
                                <span class="preview-label">Semester:</span>
                                <span class="preview-value" id="previewSemester">-</span>
                            </div>
                            <div class="preview-item">
                                <span class="preview-label">SGPA:</span>
                                <span class="preview-value" id="previewSGPA">-</span>
                            </div>
                            <div class="preview-item">
                                <span class="preview-label">Credits:</span>
                                <span class="preview-value" id="previewCredits">-</span>
                            </div>
                            <div class="preview-item">
                                <span class="preview-label">Grade Points:</span>
                                <span class="preview-value" id="previewGradePoints">-</span>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-outline" onclick="closeAddSemesterModal()">Cancel</button>
                <button type="button" class="btn btn-primary" onclick="addNewSemester()">
                    <i class="fas fa-plus"></i> Add Semester
                </button>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Chart.js for charts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Load external JavaScript file -->
    <script src="{{ url_for('static', filename='js/script.js') }}?v=6.2"></script>


</body>
</html>







</body>
</html>
